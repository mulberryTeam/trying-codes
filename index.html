<!DOCTYPE html>
<html lang="ar">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Mulberry Store</title>
  <!-- Google Fonts for general text -->
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&family=Montserrat:wght@700&display=swap" rel="stylesheet" />
  <!-- Orbitron for the store name and interface (Orbitron Black: weight 900) -->
  <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@900&display=swap" rel="stylesheet"/>
  <!-- Tristan Font for the store name (not used for store name now) -->
  
  <!-- FontAwesome for potential extra icons -->
 <link
  rel="stylesheet"
  href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
/>
  
  <style>



.product-buttons-container {
  display: flex;
  gap: 20px;               /* مسافة بين الأزرار */
  justify-content: center; /* محاذاة الأزرار في الوسط */
  flex-wrap: wrap;         /* لفّ الأزرار على عدة أسطر إذا ضاقت المساحة */
}

.product-button {
  position: relative;
  width: 160px;            /* عرض الزر */
  height: 160px;           /* ارتفاع الزر */
  border-radius: 20px;     /* زوايا منحنية */
  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2); /* ظل خفيف حول الزر */

  overflow: hidden;
  text-decoration: none;   /* إزالة التسطير الافتراضي للروابط */
  display: flex;
  flex-direction: column;
  align-items: center;
}

.product-button .img-wrapper {
  flex: 1;
  width: 100%;
  background-size: cover;
  background-position: center;
}

.product-button .img-wrapper::before {
  content: "";
  position: absolute;
  top: 0; left: 0; right: 0; bottom: 0;
  background: rgba(255, 255, 255, 0.3); /* طبقة بيضاء شفافة 30% */
}

.product-button .btn-label {
  margin-top: 10px;
  font-weight: bold;
  font-size: 1.1rem;
  color: #fff;             /* اختر اللون الذي يناسب تصميمك */
}










    :root {
      --primary-color: #0000cd; /* Blue */
      --secondary-color: #800080; /* Purple */
      --accent-order: #8b0000; /* Dark red */
      --accent-language-1: #3aa56f;
      --accent-language-2: #48c987;
      --accent-join-1: #ff85c5;
      --accent-join-2: #ff3bae;
      --text-color: #333;
      --heading-color: #222;
      --background-gradient: linear-gradient(45deg, var(--primary-color), var(--secondary-color));
      --button-bg: linear-gradient(45deg, var(--primary-color), var(--secondary-color));
      --header-bg: transparent;
      --body-font: 'Poppins', sans-serif;
      --extra-font: 'Montserrat', sans-serif;
      
      /* Light Mode Colors */
      --body-bg-color: var(--background-gradient);
      --page-text-color: #333;
      
      /* Dark Mode Colors */
      --dark-body-bg: #1a1a1a;
      --dark-heading-bg: #2b2b2b;
      --dark-text-color: #eee;
      --dark-button-bg: linear-gradient(45deg, #2e2e8b, #40007a);
    }
    
    html.dark-mode {
     
      --page-text-color: var(--dark-text-color) !important;
      --header-bg: var(--dark-heading-bg) !important;
      --button-bg: var(--dark-button-bg) !important;
    }
    
  
    
    /* Loader Overlay for initial page load */
    #loader {
      position: fixed;
  top: 0; left: 0;
  width: 100%; height: 100%;
  background: rgba(255, 255, 255, 0.8);
  display: flex;
  justify-content: center;
  align-items: center;
  z-index: 10000;
  transition: opacity 0.5s ease;
  backdrop-filter: blur(5px);
    }
    .spinner {
      border: 8px solid #f3f3f3;
      border-top: 8px solid var(--secondary-color);
      border-radius: 50%;
      width: 60px;
      height: 60px;
      animation: spin 1s linear infinite;
    }
    @keyframes spin {
      0% { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }
    
    /* Global button styles */
    button {
      cursor: pointer;
      transition: transform 0.3s cubic-bezier(0.68, -0.55, 0.265, 1.55),
                  box-shadow 0.3s cubic-bezier(0.68, -0.55, 0.265, 1.55);
    }
    button:active { animation: bounce 0.2s; }
    @keyframes bounce {
      0% { transform: scale(1); }
      50% { transform: scale(0.95); }
      100% { transform: scale(1); }
    }
    
    /* Body */
    /* استبدل أنماط body الحالية بهذا */
body {
  margin: 0;
  padding: 0;
  font-family: var(--body-font);
  direction: rtl;
  text-align: center;
  color: var(--page-text-color);
  transition: background 0.4s, color 0.4s;
  min-height: 100vh;
}
   
    .gpd-section {
      padding: 20px 0;
      position: relative;
      width: 100%;
      box-sizing: border-box;
    }
    .gpd-container {
      width: 90%;
      margin: 0 auto;
      max-width: 1200px;
      position: relative;
    }
    .gdp-row {
      display: flex;
      flex-wrap: wrap;
      align-items: center;
      justify-content: space-between;
      margin: 0 -15px;
    }
    .cell {
      padding: 0 15px;
      box-sizing: border-box;
      flex: 1;
      margin-bottom: 20px;
    }
    
    /* Header (elements directly on the background, fixed at top) */
    #headerSection {
      display: flex;
      background: none;
      padding: 10px 0;
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      z-index: 999;
    }









    #headerContent {
      display: flex;
      align-items: center;
      justify-content: space-between;
      width: 100%;
    }
    #headerContent .header-left,
    #headerContent .header-center,
    #headerContent .header-right {
      display: flex;
      align-items: center;
    }
    #headerContent .header-left { justify-content: flex-start; }
    .social-icons {
      display: flex;
      gap: 10px;
      margin-left: 10px;
      align-items: center;
    }
    .social-btn {
      display: inline-flex;
      justify-content: center;
      align-items: center;
      width: 28px;
      height: 28px;
      border-radius: 50%;
      text-decoration: none;
      transition: transform 0.3s;
    }
    .social-btn:hover { transform: scale(1.1); }
    .social-btn.instagram {
      background: linear-gradient(45deg, #833ab4, #c13584);
      border: 1px solid #833ab4;
    }
    .social-btn.facebook {
      background: #1877f2;
      border: 1px solid #1877f2;
    }
    .social-btn.tiktok {
      background: #fff;
      border: 1px solid var(--secondary-color);
      color: var(--secondary-color);
    }
    .social-btn img {
      width: 100%;
      height: 100%;
      object-fit: contain;
    }
    
    .contact-info {
      font-size: 13px;
      color: #fff;
      margin: 0 10px;
      line-height: 1.2;
      text-align: left;
    }
    
    /* Store logo replaces the store name in the center */
    #storeLogo {
      max-height: 50px;
    }
    
    #headerContent .header-right {
      justify-content: flex-end;
      gap: 8px;
      margin-right: 10px;
    }
    #headerContent button {
      background: var(--button-bg);
      border: none;
      color: #fff;
      padding: 6px 12px;
      border-radius: 6px;
      font-size: 13px;
      transition: transform 0.3s, background 0.4s;
      font-family: var(--extra-font);
    }
    #headerContent button:hover { transform: scale(1.05); }
    
   
    
    /* Order Products Button - تم تغيير النص داخل الزر إلى "اطلب استشارة" */
    #orderProductsBtn {
      background: red !important;
      background-color: red !important;
      background-image: none !important;
      border: 2px solid red !important;
      border-radius: 16px;
      color: #fff;
      padding: 6px 12px;
      font-size: 13px;
      transition: transform 0.3s cubic-bezier(0.68, -0.55, 0.265, 1.55);
      font-family: var(--extra-font);
    }
    #orderProductsBtn:hover { transform: scale(1.08); }
    
    /* Dark Mode Button with round white background at 50% transparency */
    #darkModeBtn {
      position: fixed;
      bottom: 20px;
      right: 20px;
      width: 45px;
      height: 45px;
      background: rgba(255, 255, 255, 0.5);
      border: none;
      border-radius: 50%;
      display: inline-flex;
      align-items: center;
      justify-content: center;
      transition: transform 0.3s;
      z-index: 9999;
    }
    #darkModeImg {
      width: 100%;
      height: 100%;
      object-fit: cover;
      border-radius: 50%;
    }
    
    /* Main content below header */
    main { padding-top: 100px; }
    
    /* Landing Section */
    #landingSection {
      margin-bottom: 20px;
      position: relative;
      border-radius: 15px;
      overflow: hidden;
    }
    #landing {
      position: relative;
      z-index: 2;
      padding: 60px;
      text-align: center;
    }
    #landing h1 {
      font-size: 3.5em;
      margin-bottom: 25px;
      color: #fff;
      font-weight: 900;
      font-family: 'Orbitron', sans-serif;
      text-shadow: 1px 1px 3px rgba(0,0,0,0.8);
    }
   
    .description {
      text-align: justify;
      line-height: 1.8;
      margin-top: 30px;
      color: #fff;
      font-size: 1.2em;
      letter-spacing: 0.7px;
      font-weight: 600;
      font-family: var(--extra-font);
      text-shadow: 1px 1px 3px rgba(0,0,0,0.7);
    }
    
    #shopNow:hover { transform: scale(1.05); }
    
    /* Extended Sections (Products Display) */
    #sectionsSection {
      display: none;
      background: #fff;
      border-radius: 15px;
      box-shadow: 0 4px 10px rgba(0,0,0,0.1);
      margin-bottom: 40px;
      transition: background 0.4s, color 0.4s;
    }
    #sections { padding: 20px; }
    #sections .back-container {
      text-align: left;
      margin-bottom: 10px;
    }
    #sections .back-container button {
      background: none;
      border: none;
      cursor: pointer;
    }
    #sections .back-container button svg {
      width: 30px;
      height: 30px;
      fill: var(--primary-color);
    }
    #searchContainer {
      margin-top: 20px;
      margin-bottom: 20px;
    }
    /* شريط التبويبات للأقسام الثابتة والديناميكية مع شريط تمرير أعلى */
    #tabs-wrapper {
      overflow-x: auto;
      margin-bottom: 20px;
      transform: rotateX(180deg);
    }
    #tabs {
      display: flex;
      flex-wrap: nowrap;
      overflow-x: auto;
      -webkit-overflow-scrolling: touch;
      transform: rotateX(180deg);
    }
    
    #tabs .tab {
      background: transparent;
      border: 2px solid var(--primary-color);
      color: var(--primary-color);
      padding: 10px 20px;
      margin: 0 5px;
      cursor: pointer;
      border-radius: 8px;
      font-size: 16px;
      transition: background 0.3s, color 0.3s;
      font-family: var(--body-font);
      flex: 0 0 auto;
    }
    #tabs .tab.active,
    #tabs .tab:hover {
      background: var(--secondary-color);
      color: #fff;
    }
    #sectionContent .section-group { display: none; }
    #sectionContent .section-group.active {
      display: block;
      animation: fadeInNav 0.5s ease;
    }
    @keyframes fadeInNav {
      from { opacity: 0; transform: translateY(10px); }
      to { opacity: 1; transform: translateY(0); }
    }
    /* يتم هنا عرض المنتجات داخل الحاويات */
    .section-buttons {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      gap: 15px;
    }
    
    /* تصميم زر القسم الأصلي (في حال كان عرض الأقسام) */
    .section-button {
      position: relative;
      width: 130px;
      height: 130px;
      border-radius: 15px;
      overflow: hidden;
      cursor: pointer;
      box-shadow: 0 3px 6px rgba(0,0,0,0.1);
      transition: transform 0.3s;
    }
    .section-button:hover { transform: translateY(-3px); }
    .section-button .bg-image {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-size: cover;
      background-position: center;
    }
    .section-button .overlay {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0,0,139,0.5);
    }
    .section-button .text {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      font-weight: bold;
      color: #fff;
      text-shadow: 1px 1px 3px rgba(0,0,0,0.7);
      text-align: center;
      padding: 5px;
      font-size: 24px;
      letter-spacing: 2px;
      font-family: var(--extra-font);
    }
    
    /* تصميم بطاقة المنتج */
    .product-card {
      border: 1px solid #ddd;
      border-radius: 8px;
      overflow: hidden;
      padding: 10px;
      margin: 10px;
      text-align: center;
      box-shadow: 0 2px 4px rgba(0,0,0,0.1);
      transition: transform 0.3s;
      background-color: #fff;
      width: 200px;
    }
   
    .product-card h3 {
      font-size: 16px;
      margin: 10px 0 5px;
      font-family: var(--extra-font);
    }
    .product-card p {
      font-size: 14px;
      color: #333;
      margin: 5px 0;
    }
    .product-card:hover {
      transform: scale(1.03);
    }
    
    #extendedInfo {
      margin-top: 40px;
      background: #fff;
      padding: 20px;
      border-radius: 15px;
      text-align: center;
      box-shadow: 0 2px 4px rgba(0,0,0,0.1);
      transition: background 0.4s, color 0.4s;
    }
    #extendedInfo p {
      margin: 10px 0;
      font-size: 1em;
      line-height: 1.8;
      font-weight: bold;
      color: var(--text-color);
      font-family: var(--body-font);
    }
    
    #smartSearch {
      width: 80%;
      max-width: 500px;
      padding: 12px 15px;
      font-size: 16px;
      border: 2px solid var(--primary-color);
      border-radius: 25px;
      outline: none;
      transition: border-color 0.3s;
    }
    #smartSearch:focus { border-color: var(--secondary-color); }
    #searchResults {
      margin-top: 10px;
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      gap: 10px;
    }
    
    .modal {
      display: none;
      position: fixed;
      z-index: 2000;
      left: 0;
      top: 0;
      width: 100%;
      height: 100%;
      overflow: auto;
      background-color: rgba(0,0,139,0.8);
    }
    /* قواعد عامة للمودال */
    .modal-content {
      background-color: #fff;
      border-radius: 15px;
      padding: 20px;
      position: relative;
      box-shadow: 0 4px 10px rgba(0,0,0,0.1);
      animation: fadeIn 0.5s;
      color: var(--text-color);
      font-family: var(--body-font);
      transition: background 0.4s, color 0.4s;
    }
    @keyframes fadeIn {
      from { opacity: 0; transform: scale(0.9); }
      to { opacity: 1; transform: scale(1); }
    }
    .modal-content iframe {
      width: 100%;
      height: 500px;
      border: none;
      border-radius: 8px;
    }
    .close {
      color: #aaa;
      cursor: pointer;
      font-size: 24px;
      position: absolute;
      top: 10px;
      right: 20px;
      transition: color 0.3s;
    }
    .close:hover { color: #000; }
    .close-btn {
      margin-top: 10px;
      padding: 8px 20px;
      background: var(--button-bg);
      color: #fff;
      border: none;
      border-radius: 8px;
      transition: transform 0.3s;
      font-family: var(--extra-font);
    }
    .close-btn:hover { transform: scale(1.05); }
    
    /* Modal Loader for popup iframe */
    #modalLoader {
      position: absolute;
      top: 0; left: 0;
      width: 100%;
      height: 100%;
      background: rgba(255,255,255,0.8);
      display: flex;
      justify-content: center;
      align-items: center;
      z-index: 10;
    }
    #modalLoader .spinner {
      border: 8px solid #f3f3f3;
      border-top: 8px solid var(--secondary-color);
      border-radius: 50%;
      width: 50px;
      height: 50px;
      animation: spin 1s linear infinite;
    }
    
    /* تعديل خاص بنموذج عجلة الحظ */
    /* نجعل مودال عجلة الحظ يظهر في وسط الشاشة باستخدام Flexbox */
    #luckyWheelModal {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-color: rgba(0,0,139,0.8);
      align-items: center;
      justify-content: center;
      z-index: 2100;
    }
    /* إزالة الهامش الافتراضي للمحتوى داخل مودال عجلة الحظ */
    #luckyWheelModal .modal-content {
      margin: 0;
    }
    /* على جميع الأجهزة، يتم عرض شاشة عجلة الحظ بحجم ثابت 781×667 */
    @media (min-width: 768px) {
      #luckyWheelModal .modal-content {
        width: 781px;
        height: 667px;
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
      }
      #luckyWheelModal .modal-content iframe {
        width: 100%;
        height: calc(100% - 50px); /* تخصيص مساحة للزر */
      }
    }
    @media (max-width: 767px) {
      #luckyWheelModal .modal-content {
        width: 781px;
        height: 667px;
        max-width: 100%;
        max-height: 100%;
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
      }
      #luckyWheelModal .modal-content iframe {
        width: 100%;
        height: calc(100% - 50px);
      }
    }
    /* زر الإغلاق الخاص بعجلة الحظ */
    #luckyWheelModal .close-lucky-btn {
      background-color: #8b0000;
      border: none;
      color: #fff;
      padding: 8px 12px;
      margin-top: 10px;
      border-radius: 4px;
      font-size: 14px;
      cursor: pointer;
      display: flex;
      align-items: center;
      gap: 5px;
    }






    
    /* تكبير أيقونة زر عجلة الحظ على الجوال بنسبة *4 */
    @media (max-width: 767px) {
      #luckyWheelBtn img {
        transform: scale(4) !important;
      }
    }
    
    /* DARK MODE Overrides */
    html.dark-mode #sectionsSection {
      background: #000;
      color: #fff;
    }
    html.dark-mode #smartSearch {
      background: #000;
      color: #fff;
    }
    html.dark-mode #smartSearch::placeholder {
      color: #fff;
    }
    
    /* تعديلات خاصة بأجهزة الحاسوب والشاشات الكبيرة */
    @media (min-width: 1024px) {
      /* زيادة حجم زر عجلة الحظ على الشاشات الكبيرة */
      #luckyWheelBtn {
        width: 60px !important;
        height: 60px !important;
      }
      /* ضبط حجم شاشة عجلة الحظ لتظهر بشكل متناسق وواضح على الحاسوب (اصغر حجماً) */
      #luckyWheelModal .modal-content {
        width: 700px;
        height: 600px;
      }
    }



/* رفع العنوان والنصوص فوق الأزرار */
.section-title {
  margin-top: 10px;    /* قلّلت المساحة العلوية للرفع */
  margin-bottom: 5px;  /* قلّلت المساحة السفلية */
font-size: 1rem;
}














@media (max-width: 768px) {
  .product-buttons-container {
    display: flex;
    width: 100%;                   /* عرض الحاوية كامل الشاشة */
    padding: 0;                    /* إزالة أي حشوة جانبية */
    justify-content: space-between;/* يوزّع الأزرار من طرف لطرف */
    gap: 4px;                      /* مسافة صغيرة ثابتة بين الأزرر */
    box-sizing: border-box;        /* لتضمين الهامش والحشوة ضمن الـ 100% */
  }

  .product-button {
    flex: 1.2;                     /* كل زر يكبر بنسبة 1.2 فليكسيبل */
    margin: 0;                     /* لا هامش إضافي */
    aspect-ratio: 0.50;               /* يحافظ على المربع */
    max-width: none;               /* يلغي أية حدود عرض سابقة */
  }
.product-button span {
    font-size: 8.2px !important; /* يمكنك التعديل مثلاً 11px أو 10px حسب ما يناسبك */
 padding-top: 5px;
  padding-bottom: 10px;
  }
 
}

 /* التعديل 1: خلفية شفافة للواجهات */
       .gpd-section {
    background: transparent !important; /* شفافية كاملة */
    backdrop-filter: blur(10px);
    border-radius: 15px;
    box-shadow: 0 8px 32px rgba(31, 38, 135, 0.15);
    padding: 30px;
    margin: 40px auto;
    max-width: 1200px;
    position: relative;
    z-index: 100;
    border: 1px solid rgba(255, 255, 255, 0.4);
}
        
  #landingSection.gpd-section {
  display: block !important;
}

        
        /* التعديل 2: تحسين شكل زر الإغلاق */
        .back-container {
            margin-bottom: 20px;
            display: flex;
            justify-content: flex-start;
        }
        
        .back-container button {
            background: linear-gradient(135deg, #6a1b9a, #4a148c);
            color: white;
            border: none;
            width: 50px;
            height: 50px;
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            cursor: pointer;
            transition: var(--transition);
            font-size: 1.2rem;
            box-shadow: 0 4px 12px rgba(106, 27, 154, 0.4);
            position: relative;
            z-index: 10;
        }
        
        .back-container button:hover {
            background: linear-gradient(135deg, #4a148c, #38006b);
            transform: scale(1.1) rotate(-5deg);
            box-shadow: 0 6px 16px rgba(106, 27, 154, 0.6);
        }
        
        .back-container button i {
            transition: var(--transition);
        }
        
        .back-container button:hover i {
            transform: translateX(-3px);
        }














/* Carousel Styles */
.carousel-container {
  margin: 30px auto;
  max-width: 1200px;
  position: relative;
  overflow: hidden;
  padding: 0 70px;
}

.carousel-wrapper {
  display: flex;
  align-items: center;
  position: relative;
}

.carousel {
  display: flex;
  padding: 30px 0;
  scroll-behavior: smooth;
  overflow-x: hidden;
  scrollbar-width: none;
  width: 100%;
  -webkit-overflow-scrolling: touch;
  position: relative;
  justify-content: center;
}

.carousel::-webkit-scrollbar {
  display: none;
}

.category-btn {
  flex: 0 0 auto;
  width: 150px;
  height: 150px;
  border-radius: 15px;
  overflow: hidden;
  position: relative;
  box-shadow: 0 4px 15px rgba(0,0,0,0.3);
  transition: all 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275);
  cursor: pointer;
  margin: 0 -40px;
  transform: scale(0.8);
  opacity: 0.7;
  z-index: 1;
}

.category-btn.active {
  transform: scale(1);
  opacity: 1;
  z-index: 3;
  margin: 0 10px;
}

.category-btn.prev,
.category-btn.next {
  transform: scale(0.9);
  opacity: 0.85;
  z-index: 2;
}

.category-btn .bg-image {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background-size: cover;
  background-position: center;
  filter: brightness(0.8);
}

.category-btn .btn-label {
  position: absolute;
  bottom: 0;
  width: 100%;
  background: rgba(0, 0, 0, 0.7);
  color: white;
  padding: 8px 5px;
  text-align: center;
  font-weight: bold;
  font-size: 0.85rem;
  transition: all 0.3s;
}

.carousel-arrow {
  position: absolute;
  top: 50%;
  transform: translateY(-50%);
  width: 40px;
  height: 40px;
  background: rgba(255, 255, 255, 0.8);
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 24px;
  cursor: pointer;
  z-index: 10;
  transition: all 0.3s;
  box-shadow: 0 2px 5px rgba(0,0,0,0.2);
}

.carousel-arrow:hover {
  background: rgba(255, 255, 255, 1);
  transform: translateY(-50%) scale(1.1);
}

.left-arrow {
  left: 15px;
}

.right-arrow {
  right: 15px;
}

/* تخصيصات الجوال */
@media (max-width: 768px) {
  .carousel-container {
    padding: 0 40px;
  }
  
  .category-btn {
    width: 130px;
    height: 130px;
    margin: 0 -50px;
  }
  
  .category-btn.active {
    margin: 0 5px;
  }
  
  .carousel-arrow {
    width: 35px;
    height: 35px;
    font-size: 20px;
  }
  
  .left-arrow {
    left: 5px;
  }
  
  .right-arrow {
    right: 5px;
  }
}

@media (max-width: 480px) {
  .carousel-container {
    padding: 0 30px;
  }
  
  .category-btn {
    width: 110px;
    height: 110px;
    margin: 0 -60px;
  }
  
  .carousel-arrow {
    width: 30px;
    height: 30px;
    font-size: 18px;
  }
  
  .btn-label {
    font-size: 0.75rem;
    padding: 6px 3px;
  }
}






/* أنماط الـ Carousel */
.carousel-container {
  /* ... الأنماط السابقة ... */
  perspective: 1200px;
}

.category-btn {
  background: rgba(255, 255, 255, 0.1);
  backdrop-filter: blur(12px);
  -webkit-backdrop-filter: blur(12px);
  border: 1px solid rgba(255, 255, 255, 0.2);
  box-shadow: 0 8px 32px rgba(0, 0, 139, 0.3);
  transition: all 0.6s cubic-bezier(0.16, 1, 0.3, 1);
  transform-style: preserve-3d;
}

.category-btn.active {
  transform: scale(1.05) translateZ(20px);
  box-shadow: 0 12px 40px rgba(128, 0, 128, 0.4),
              0 0 0 2px rgba(255, 255, 255, 0.3);
  z-index: 10;
  animation: float 3s ease-in-out infinite;
}

.category-btn.prev,
.category-btn.next {
  box-shadow: 0 6px 20px rgba(0, 0, 0, 0.2);
  filter: brightness(0.8);
}

.category-btn .bg-image {
  mix-blend-mode: overlay;
}

@keyframes float {
  0%, 100% { transform: scale(1.05) translateZ(20px) translateY(0); }
  50% { transform: scale(1.05) translateZ(20px) translateY(-8px); }
}

/* تأثيرات اللمس */
.category-btn:active {
  animation: pulse 0.4s;
}

@keyframes pulse {
  0% { transform: scale(0.95); }
  50% { transform: scale(1.03); }
  100% { transform: scale(1); }
}








/* أنماط الـ Carousel */
.carousel {
  scroll-behavior: smooth;
  transition: scroll-left 0.7s cubic-bezier(0.33, 1, 0.68, 1);
}

.category-btn {
  transition: all 0.5s cubic-bezier(0.34, 1.56, 0.64, 1);
  transform-origin: center bottom;
  box-shadow: 0 10px 25px -5px rgba(0, 0, 0, 0.2);
}

.category-btn.active {
  transform: scale(1) rotate(0deg);
  box-shadow: 0 20px 50px -10px rgba(0, 0, 139, 0.4);
  z-index: 5;
}

.category-btn.prev {
  transform: scale(0.9) rotate(-5deg);
  opacity: 0.9;
}

.category-btn.next {
  transform: scale(0.9) rotate(5deg);
  opacity: 0.9;
}

/* تأثير المغناطيس عند التمرير */
.category-btn {
  transition: transform 0.3s ease, opacity 0.3s ease;
}

/* تأثير الظل عند التركيز */
.category-btn.active::after {
  content: '';
  position: absolute;
  bottom: -15px;
  left: 10%;
  width: 80%;
  height: 20px;
  background: radial-gradient(ellipse at center, 
             rgba(0,0,0,0.4) 0%, 
             rgba(0,0,0,0) 80%);
  z-index: -1;
  animation: shadowPulse 2s infinite;
}

@keyframes shadowPulse {
  0%, 100% { transform: scale(1); opacity: 0.6; }
  50% { transform: scale(1.05); opacity: 0.8; }
}








/* تنسيقات مركزة للقائمة */
.carousel {
  display: flex;
  padding: 30px 0;
  scroll-behavior: smooth;
  overflow-x: auto;
  scrollbar-width: none;
  width: 100%;
  -webkit-overflow-scrolling: touch;
  position: relative;
  justify-content: center;
  scroll-snap-type: x mandatory;
  scroll-padding: 50% 0; /* نقطة المركز */
}

.category-btn {
  flex: 0 0 auto;
  width: 150px;
  height: 150px;
  border-radius: 15px;
  overflow: hidden;
  position: relative;
  box-shadow: 0 4px 15px rgba(0,0,0,0.3);
  transition: all 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275);
  cursor: pointer;
  margin: 0 -40px;
  transform: scale(0.8);
  opacity: 0.7;
  z-index: 1;
  scroll-snap-align: center; /* محاذاة المركز */
}

/* تحسينات الجوال */
@media (max-width: 768px) {
  .carousel {
    scroll-padding: 40% 0; /* نقطة المركز للجوال */
  }
  
  .category-btn {
    width: 130px;
    height: 130px;
    margin: 0 -50px;
  }
}

@media (max-width: 480px) {
  .carousel {
    scroll-padding: 35% 0; /* نقطة المركز للشاشات الصغيرة */
  }
  
  .category-btn {
    width: 110px;
    height: 110px;
    margin: 0 -60px;
  }
}











.category-btn {
    background: rgba(255, 255, 255, 0.1);
    backdrop-filter: blur(10px);
    -webkit-backdrop-filter: blur(10px);
    border: 1px solid rgba(255, 255, 255, 0.15);
}

.category-btn.active {
    background: rgba(255, 255, 255, 0.2);
    backdrop-filter: blur(15px);
    border: 1px solid rgba(255, 255, 255, 0.3);
}







/* استبدل أنيمشن float بهذا */
@keyframes float {
    0%, 100% { 
        transform: scale(1.05) translateZ(20px) translateY(0);
        box-shadow: 0 12px 40px rgba(128, 0, 128, 0.3),
                    0 0 0 1px rgba(255, 255, 255, 0.2);
    }
    50% { 
        transform: scale(1.05) translateZ(20px) translateY(-8px);
        box-shadow: 0 15px 50px rgba(128, 0, 128, 0.4),
                    0 0 0 2px rgba(255, 255, 255, 0.3);
    }
}

/* أضف هذا التأثير للأسهم */
.carousel-arrow {
    background: rgba(255, 255, 255, 0.2);
    backdrop-filter: blur(5px);
    border: 1px solid rgba(255, 255, 255, 0.15);
    transition: all 0.3s ease;
}

.carousel-arrow:hover {
    background: rgba(255, 255, 255, 0.3);
    transform: translateY(-50%) scale(1.15);
}









/* تحسين النصوص للشفافية */
#landing h1,
.phrase,
.description {
    text-shadow: 0 2px 10px rgba(0, 0, 0, 0.7);
}

/* تحسين الظلال للبطاقات */
.category-btn {
    box-shadow: 0 8px 25px rgba(0, 0, 0, 0.25);
}

.category-btn.active {
    box-shadow: 0 15px 40px rgba(0, 0, 0, 0.35);
}








@media (max-width: 768px) {
    .gpd-section {
        padding: 20px;
        margin: 20px auto;
        backdrop-filter: blur(8px);
    }
    
    .category-btn {
        backdrop-filter: blur(8px);
    }
    
    .carousel-container {
        padding: 0 30px;
    }
}








#backgroundVideo {
  position: fixed;
  top: 0;
  left: 0;
  min-width: 100%;
  min-height: 100%;
  width: auto;
  height: auto;
  z-index: -100;
  object-fit: cover;
}





/* أضف هذا بدلاً من أنماط الفيديو الحالية */
#videoContainer {
  position: fixed;
  top: 0;
  left: 0;
  width: 100vw;
  height: 100vh;
  z-index: -100;
}

#videoPlaceholder {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  object-fit: cover;
  z-index: -99;
  transition: opacity 1s ease;
}

#backgroundVideo {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  object-fit: cover;
  opacity: 0;
  transition: opacity 1.5s ease;
  z-index: -98;
}

#backgroundVideo.playing {
  opacity: 1;
}

#overlay {
  position: fixed;
  top: 0;
  left: 0;
  width: 100vw;
  height: 100vh;
  background: transparent !important;
  z-index: -97;
}


















/* النقاط الثلجية */
.snowfall {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  pointer-events: none;
  z-index: 9997;
  overflow: hidden;
}

.snowflake {
  position: absolute;
  top: -50px;
  border-radius: 50%;
  background: white;
  animation: fall linear infinite;
}

/* أنيميشن الثلج */
@keyframes fall {
  to { transform: translateY(100vh); }
}

/* أحجام وتأخيرات مختلفة للثلج */
.snowflake:nth-child(1) { width: 6px; height: 6px; left: 5%; animation-duration: 10s; }
.snowflake:nth-child(2) { width: 5px; height: 5px; left: 15%; animation-duration: 12s; }
.snowflake:nth-child(3) { width: 4px; height: 4px; left: 25%; animation-duration: 14s; animation-delay: 1s; }
.snowflake:nth-child(4) { width: 7px; height: 7px; left: 35%; animation-duration: 11s; animation-delay: 2s; }
.snowflake:nth-child(5) { width: 5px; height: 5px; left: 45%; animation-duration: 13s; animation-delay: 3s; }
.snowflake:nth-child(6) { width: 6px; height: 6px; left: 55%; animation-duration: 9s; }
.snowflake:nth-child(7) { width: 4px; height: 4px; left: 65%; animation-duration: 15s; animation-delay: 1s; }
.snowflake:nth-child(8) { width: 5px; height: 5px; left: 75%; animation-duration: 12s; animation-delay: 2s; }
.snowflake:nth-child(9) { width: 6px; height: 6px; left: 85%; animation-duration: 10s; animation-delay: 3s; }
.snowflake:nth-child(10) { width: 4px; height: 4px; left: 95%; animation-duration: 14s; }








/* تلميحات بصرية للشخصية */
.cartoon-character:hover .character-body {
  animation: happyJump 1s ease;
}

@keyframes happyJump {
  0%, 100% { transform: translateY(0); }
  50% { transform: translateY(-30px); }
}

/* تكييف الألوان مع سمة المتجر */
.character-body {
  background: var(--secondary-color);
  box-shadow: 0 5px 15px rgba(128, 0, 128, 0.3);
}

.snowflake {
  background: rgba(255, 255, 255, 0.8);
  box-shadow: 0 0 10px rgba(255, 255, 255, 0.5);
}








/* إضافة الظلال والتفاصيل */
.character-body, .dress, .hair {
  box-shadow: 
    inset 0 -5px 10px rgba(0,0,0,0.1),
    0 5px 15px rgba(0,0,0,0.2);
}

/* إضافة تفاصيل للفستان */
.dress::before {
  content: '';
  position: absolute;
  top: 20px;
  left: 50%;
  transform: translateX(-50%);
  width: 40px;
  height: 30px;
  background: #ff8da1;
  border-radius: 50%;
}

/* تفاصيل الشعر */
.hair::after {
  content: '';
  position: absolute;
  bottom: -10px;
  left: 10px;
  width: 30px;
  height: 40px;
  background: #8b4513;
  border-radius: 50% 50% 0 0;
  transform: rotate(-30deg);
}

.hair::before {
  content: '';
  position: absolute;
  bottom: -10px;
  right: 10px;
  width: 30px;
  height: 40px;
  background: #8b4513;
  border-radius: 50% 50% 0 0;
  transform: rotate(30deg);
}

/* تأثيرات ثلاثية الأبعاد إضافية */
.character-3d:hover {
  animation: dance 2s ease infinite;
}

@keyframes dance {
  0%, 100% { transform: translateY(0) rotateY(0deg); }
  25% { transform: translateY(-20px) rotateY(30deg); }
  50% { transform: translateY(0) rotateY(0deg) scale(1.1); }
  75% { transform: translateY(-20px) rotateY(-30deg); }
}











/* أضف هذه الأنماط بعد أنماط الـ carousel */
/* Products Modal */
#productsModal .modal-content {
  background: rgba(255, 255, 255, 0.92);
  backdrop-filter: blur(12px);
  border-radius: 20px;
  padding: 25px;
  animation: scaleIn 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
}

@keyframes scaleIn {
  from { transform: scale(0.9); opacity: 0; }
  to { transform: scale(1); opacity: 1; }
}

.modal-header {
  display: flex;
  align-items: center;
  margin-bottom: 25px;
  padding-bottom: 15px;
  border-bottom: 1px solid #eee;
}

.back-btn {
  display: flex;
  align-items: center;
  background: var(--primary-color);
  color: white;
  border: none;
  padding: 8px 15px;
  border-radius: 50px;
  cursor: pointer;
  font-weight: 600;
  transition: all 0.3s;
}

.back-btn svg {
  margin-left: 5px;
  transition: transform 0.3s;
}

.back-btn:hover {
  background: var(--secondary-color);
}

.back-btn:hover svg {
  transform: translateX(-5px);
}

#modalTitle {
  margin: 0 auto;
  color: var(--primary-color);
  font-size: 1.8rem;
}

.products-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
  gap: 25px;
  max-height: 70vh;
  overflow-y: auto;
  padding: 10px;
}

.product-item {
  background: white;
  border-radius: 15px;
  overflow: hidden;
  box-shadow: 0 5px 15px rgba(0,0,0,0.1);
  transition: transform 0.4s, box-shadow 0.4s;
  position: relative;
}

.product-item:hover {
  transform: translateY(-8px);
  box-shadow: 0 12px 25px rgba(0,0,0,0.15);
}

.product-image {
  width: 100%;
  height: 200px;
  object-fit: cover;
  border-bottom: 1px solid #f0f0f0;
}

.product-details {
  padding: 15px;
}

.product-name {
  font-size: 1.1rem;
  margin: 0 0 8px;
  color: #333;
  font-weight: 600;
}

.product-price {
  font-size: 1.3rem;
  color: var(--accent-order);
  font-weight: 700;
  margin: 0 0 10px;
}

.product-description {
  font-size: 0.9rem;
  color: #666;
  line-height: 1.5;
  margin: 0;
}

/* Responsive grid */
@media (max-width: 768px) {
  .products-grid {
    grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
    gap: 15px;
  }
  
  .product-image {
    height: 160px;
  }
}









/* أضف هذه الأنماط في قسم الـ <style> */
.loading, .no-products, .error {
  grid-column: 1 / -1;
  text-align: center;
  padding: 40px;
  font-size: 1.2rem;
  color: #555;
}

.loading::after {
  content: '';
  display: inline-block;
  width: 20px;
  height: 20px;
  border: 3px solid rgba(0, 0, 0, 0.1);
  border-radius: 50%;
  border-top-color: var(--primary-color);
  animation: spin 1s linear infinite;
  margin-left: 10px;
  vertical-align: middle;
}








/* أضف هذه الأنماط */
.product-item {
  opacity: 0;
  transform: translateY(20px);
  animation: fadeInUp 0.5s forwards;
}

@keyframes fadeInUp {
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

/* تأخير متدرج للبطاقات */
.product-item:nth-child(1) { animation-delay: 0.1s; }
.product-item:nth-child(2) { animation-delay: 0.2s; }
.product-item:nth-child(3) { animation-delay: 0.3s; }
.product-item:nth-child(4) { animation-delay: 0.4s; }
.product-item:nth-child(5) { animation-delay: 0.5s; }










/* تأكد من وجود هذه الأنماط */
.loading, .no-products, .error {
  grid-column: 1 / -1;
  text-align: center;
  padding: 40px;
  font-size: 1.2rem;
  color: #555;
}

.loading::after {
  content: '';
  display: inline-block;
  width: 20px;
  height: 20px;
  border: 3px solid rgba(0, 0, 0, 0.1);
  border-radius: 50%;
  border-top-color: var(--primary-color);
  animation: spin 1s linear infinite;
  margin-left: 10px;
  vertical-align: middle;
}









/* أضف هذه الأنماط بعد أنماط بطاقات المنتج */
.product-description {
  font-size: 0.9rem;
  color: #666;
  line-height: 1.5;
  margin: 0 0 10px;
}

.full-description {
  font-size: 0.9rem;
  color: #555;
  line-height: 1.6;
  margin: 10px 0;
  padding: 10px;
  background: #f9f9f9;
  border-radius: 8px;
  border-left: 3px solid var(--primary-color);
}

.show-more-btn {
  background: transparent;
  border: none;
  color: var(--primary-color);
  padding: 5px 10px;
  font-size: 0.85rem;
  cursor: pointer;
  display: flex;
  align-items: center;
  margin: 5px 0 0;
  font-weight: 600;
  transition: all 0.3s;
}

.show-more-btn::after {
  content: '›';
  margin-right: 5px;
  font-size: 1.2rem;
  transition: transform 0.3s;
}

.show-more-btn.show-less::after {
  transform: rotate(90deg);
}

.show-more-btn:hover {
  color: var(--secondary-color);
  text-decoration: underline;
}







@media (max-width: 480px) {
  .product-description, 
  .full-description {
    font-size: 0.8rem;
  }
  
  .show-more-btn {
    font-size: 0.8rem;
  }
}







/* أضف هذه الأنماط بعد أنماط بطاقات المنتج */
.copy-link-btn {
  background: rgba(0, 0, 0, 0.05);
  border: 1px solid #ddd;
  border-radius: 30px;
  padding: 8px 15px;
  font-size: 0.85rem;
  color: #555;
  cursor: pointer;
  display: inline-flex;
  align-items: center;
  gap: 8px;
  transition: all 0.3s;
  margin-top: 10px;
}

.copy-link-btn:hover {
  background: var(--primary-color);
  color: white;
  border-color: var(--primary-color);
  transform: translateY(-2px);
  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
}

.copy-link-btn svg {
  transition: transform 0.3s;
}

.copy-link-btn:hover svg {
  transform: scale(1.1);
}

.notification {
  position: fixed;
  top: 20px;
  right: 20px;
  background: #4CAF50;
  color: white;
  padding: 15px 25px;
  border-radius: 10px;
  box-shadow: 0 5px 15px rgba(0,0,0,0.2);
  z-index: 10000;
  transition: opacity 0.3s;
}

.notification.error {
  background: #f44336;
}

.product-item.highlighted {
  animation: highlightPulse 2s ease;
  box-shadow: 0 0 0 3px var(--primary-color);
}

@keyframes highlightPulse {
  0% { transform: scale(1); box-shadow: 0 0 0 0 rgba(0, 0, 255, 0.7); }
  50% { transform: scale(1.03); box-shadow: 0 0 0 10px rgba(0, 0, 255, 0); }
  100% { transform: scale(1); box-shadow: 0 0 0 0 rgba(0, 0, 255, 0); }
}










/* تمييز بطاقة المنتج المفتوح عبر الرابط */
.product-card.highlighted {
  border: 2px solid #ff4d4f;              /* إطار أحمر لافت */
  box-shadow: 0 0 10px rgba(255, 77, 79, 0.5);
  transform: scale(1.05);                 /* تكبير طفيف */
  transition: transform 0.3s ease, box-shadow 0.3s ease;
}














/* 1. تعيين وضع ثابت وتمكين التمرير العمودي */
.product-modal {
  position: fixed;      /* تثبيت النافذة بالنسبة للشاشة */
  top: 0;               /* من أعلى الشاشة */
  left: 0;              /* من يسار الشاشة */
  right: 0;             /* إلى يمين الشاشة */
  bottom: 0;            /* إلى أسفل الشاشة */
  overflow-y: auto;     /* تفعيل التمرير العمودي */
  -webkit-overflow-scrolling: touch; /* سلاسة التمرير على iOS */
  background: #fff;     /* خلفية بيضاء (أو حسب ثيمك) */
  z-index: 10000;       /* فوق باقي العناصر */
}

/* 2. منع تمرير الخلفية أثناء فتح الواجهة */
body.modal-open {
  overflow: hidden;
}

/* 3. (اختياري) ضبط المحتوى الداخلي لبطاقات المنتجات */
.product-modal .products-container {
  display: flex;
  flex-direction: column; /* أو row + flex-wrap: wrap; حسب تصميمك */
  padding: 1rem;          /* قليل من الحشو لراحة اللمس */
}

/* 4. تأكد من أن كل بطاقة منتج لها حجم ثابت أو نسبة مئوية */
.product-modal .product-card {
  flex: 0 0 auto;        /* لا تنكمش أو تتمدد */
  margin-bottom: 1rem;    /* مسافة أسفل كل بطاقة */
}













/* Carousel Styles */
.banner-carousel {
position: relative;
width: 100%;
max-width: 1200px;
margin: 0 auto 30px;
overflow: hidden;
border-radius: 15px;
}
.banner-carousel .slides img {
width: 100%;
display: none;
}
.banner-carousel .slides img.active {
display: block;
}
.banner-carousel .dots {
position: absolute;
bottom: 10px;
left: 50%;
transform: translateX(-50%);
display: flex;
gap: 8px;
}
.banner-carousel .dot {
width: 12px;
height: 12px;
border-radius: 50%;
background: rgba(255,255,255,0.5);
cursor: pointer;
transition: background 0.3s;
}
.banner-carousel .dot.active {
background: #ffffff;
}













/* ─── تعديل حجم وموضع الـ Carousel ─── */
.banner-carousel {
/* يملأ العرض دائماً */
width: 100%;
/* أقصى ارتفاع على الحاسوب */
max-height: 400px;
/* ينقلها للأعلى لتمتزج مع الواجهة الشبه شفافة */
margin-top: -60px;
/* حواف منحنية */
border-radius: 15px;
overflow: hidden;
position: relative;
}

/* الصور تملأ العرض والأبعاد تُقص بالحفظ على النسبة */
.banner-carousel .slides img {
width: 100%;
height: 100%;
object-fit: cover;
}

/* ─── تعديل خاص بالهاتف المحمول ─── */
@media (max-width: 768px) {
  /* تكبير حجم قائمة الأقسام على الجوال */
  #tabs .tab {
    font-size: 20px;      /* حجم الخط */
    padding: 12px 24px;   /* المسافة الداخلية */
  }

.banner-carousel {
/* يزيد الارتفاع قليلاً على الموبايل */
max-height: 300px;
/* على الموبايل لا نحتاج إزاحة كبيرة للأعلى */
margin-top: -40px;
}
}

































/* ========== تعديلات البانر المتحرك ========== */
.banner-carousel {
  position: relative;
  transition: all 0.5s ease;
  border-radius: 20px;
  overflow: hidden;
  box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
  border: 2px solid rgba(255, 255, 255, 0.2);
  margin: 20px auto;
  max-width: 1200px;
}

/* على الشاشات الكبيرة (الحاسوب) */
@media (min-width: 992px) {
  .banner-carousel {
    height: 280px !important; /* تصغير الارتفاع */
    max-width: 90% !important;
    transform: scale(0.95);
    margin-top: -20px;
  }
  
  .banner-carousel .slides img {
    object-fit: cover;
    height: 100%;
  }
}

/* على الشاشات الصغيرة (الهاتف) */
@media (max-width: 991px) {
  .banner-carousel {
    height: 200px !important; /* زيادة الارتفاع */
    border-radius: 15px;
    margin: 15px auto 25px;
    box-shadow: 0 8px 25px rgba(0, 0, 0, 0.25);
  }
  
  .banner-carousel .slides img {
    object-fit: cover;
    height: 100%;
  }
}

/* تحسين النقاط (الدوائر الصغيرة) */
.banner-carousel .dots {
  bottom: 20px;
  z-index: 10;
}

.banner-carousel .dot {
  width: 14px;
  height: 14px;
  background: rgba(255, 255, 255, 0.7);
  border: 1px solid rgba(0, 0, 0, 0.3);
  transition: all 0.3s ease;
}

.banner-carousel .dot.active {
  background: #ffffff;
  transform: scale(1.3);
  box-shadow: 0 0 10px rgba(255, 255, 255, 0.8);
}

/* تأثيرات التبديل بين الصور */
@keyframes slideFade {
  0% { opacity: 0; transform: scale(1.05); }
  100% { opacity: 1; transform: scale(1); }
}

.banner-carousel .slides img {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  opacity: 0;
  transition: opacity 1s ease;
  animation: slideFade 1.2s ease-out forwards;
}

.banner-carousel .slides img.active {
  opacity: 1;
  z-index: 1;
}

/* تأثيرات عند التمرير */
.banner-carousel .slides {
  position: relative;
  height: 100%;
}

/* ظل تدرجي لتحسين قراءة النص إذا أضفت نصوصًا لاحقًا */
.banner-carousel::after {
  content: '';
  position: absolute;
  bottom: 0;
  left: 0;
  right: 0;
  height: 40%;
  background: linear-gradient(to top, rgba(0,0,0,0.6) 0%, transparent 100%);
  z-index: 2;
  pointer-events: none;
}

/* تأثيرات اللمس على الجوال */
@media (hover: none) {
  .banner-carousel .dot {
    width: 18px;
    height: 18px;
  }
}

/* تحسينات للشاشات الصغيرة جدًا */
@media (max-width: 480px) {
  .banner-carousel {
    height: 180px !important;
    border-radius: 12px;
  }
  
  .banner-carousel .dot {
    width: 12px;
    height: 12px;
  }
}












/* ====== بداية التعديلات لتقليل طول البانر على الجوال ====== */
@media (max-width: 768px) {
  .banner-carousel {
    height: 120px !important; /* تقليل الارتفاع بشكل كبير */
    max-height: 120px !important;
    aspect-ratio: 16/4 !important; /* نسبة أفقية عالية جداً */
  }
  
  .banner-carousel .slides img {
    height: 120px !important;
    max-height: 120px !important;
    object-fit: cover !important;
    object-position: center center !important;
  }
  
  .banner-carousel .slides {
    height: 120px !important;
  }
  
  .banner-carousel .dots {
    bottom: 5px !important;
  }
  
  .banner-carousel .dot {
    width: 8px !important;
    height: 8px !important;
  }
}

@media (max-width: 480px) {
  .banner-carousel {
    height: 100px !important; /* أكثر انخفاضاً */
    aspect-ratio: 16/3.5 !important;
  }
  
  .banner-carousel .slides img {
    height: 100px !important;
  }
  
  .banner-carousel .slides {
    height: 100px !important;
  }
}
/* ====== نهاية التعديلات ====== */














/* ======== أنماط قسم المنتجات العشوائية ======== */
#randomProducts {
  background: transparent;
  padding: 40px 0;
}

.random-products-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
  gap: 30px;
  justify-content: center;
}

.random-category-section {
  background: rgba(255, 255, 255, 0.05);
  backdrop-filter: blur(12px);
  border-radius: 20px;
  padding: 20px;
  box-shadow: 0 8px 32px rgba(0, 0, 139, 0.2);
  border: 1px solid rgba(255, 255, 255, 0.1);
}

.category-header {
  display: flex;
  align-items: center;
  margin-bottom: 20px;
  padding-bottom: 15px;
  border-bottom: 1px solid rgba(255, 255, 255, 0.2);
}

.category-header h3 {
  color: #fff;
  font-size: 1.4rem;
  margin: 0;
  flex-grow: 1;
  text-shadow: 0 2px 4px rgba(0,0,0,0.5);
}

.see-all-btn {
  background: rgba(255, 255, 255, 0.1);
  color: #fff;
  border: none;
  padding: 8px 15px;
  border-radius: 30px;
  cursor: pointer;
  font-size: 0.9rem;
  transition: all 0.3s;
}

.see-all-btn:hover {
  background: rgba(255, 255, 255, 0.3);
  transform: translateY(-2px);
}

.random-products {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: 15px;
}

.random-product-card {
  background: rgba(255, 255, 255, 0.08);
  border-radius: 15px;
  overflow: hidden;
  transition: all 0.4s;
  transform-style: preserve-3d;
  position: relative;
  border: 1px solid rgba(255, 255, 255, 0.05);
}

.random-product-card:hover {
  transform: translateY(-8px) rotateY(5deg);
  box-shadow: 0 15px 30px rgba(0, 0, 0, 0.3);
  background: rgba(255, 255, 255, 0.12);
}

.product-image-container {
  height: 160px;
  overflow: hidden;
  position: relative;
}

.product-image-container img {
  width: 100%;
  height: 100%;
  object-fit: cover;
  transition: transform 0.5s;
}

.random-product-card:hover .product-image-container img {
  transform: scale(1.05);
}

.product-info {
  padding: 15px;
}

.product-name {
  color: #fff;
  font-size: 1.1rem;
  margin: 0 0 8px;
  font-weight: 600;
  text-shadow: 0 1px 3px rgba(0,0,0,0.6);
}

.product-price {
  color: #ffdd00;
  font-size: 1.2rem;
  font-weight: 700;
  margin: 0 0 10px;
}

.product-description {
  color: rgba(255, 255, 255, 0.8);
  font-size: 0.9rem;
  line-height: 1.5;
  height: 40px;
  overflow: hidden;
}

/* التجاوبية */
@media (max-width: 1200px) {
  .random-products {
    grid-template-columns: repeat(2, 1fr);
  }
}

@media (max-width: 992px) {
  .random-products-grid {
    grid-template-columns: 1fr;
  }
  
  .random-category-section {
    margin-bottom: 30px;
  }
}

@media (max-width: 768px) {
  .random-products {
    grid-template-columns: repeat(3, 1fr);
  }
  
  .product-image-container {
    height: 120px;
  }
  
  .product-name {
    font-size: 1rem;
  }
  
  .product-price {
    font-size: 1.1rem;
  }
}

@media (max-width: 576px) {
  .random-products {
    grid-template-columns: 1fr;
  }
  
  .random-product-card {
    max-width: 300px;
    margin: 0 auto;
  }
  
  .product-image-container {
    height: 140px;
  }
}

/* أنميشن الدخول */
@keyframes fadeInUp {
  from {
    opacity: 0;
    transform: translateY(30px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.random-category-section {
  animation: fadeInUp 0.6s ease-out forwards;
  opacity: 0;
}

.random-category-section:nth-child(1) { animation-delay: 0.1s; }
.random-category-section:nth-child(2) { animation-delay: 0.2s; }
.random-category-section:nth-child(3) { animation-delay: 0.3s; }
.random-category-section:nth-child(4) { animation-delay: 0.4s; }














/* ======== تنسيقات جديدة للبطاقات العشوائية ======== */
.random-products-container {
  display: flex;
  flex-direction: column;
  gap: 40px;
}

.random-category-section {
  background: transparent;
  padding: 0;
}

.category-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  margin-bottom: 15px;
  padding-bottom: 10px;
  border-bottom: 1px solid rgba(255, 255, 255, 0.15);
}

.category-header h3 {
  color: #fff;
  font-size: 1.3rem;
  margin: 0;
  font-weight: 600;
  text-shadow: 0 1px 3px rgba(0,0,0,0.5);
}

.see-all-btn {
  background: rgba(255, 255, 255, 0.1);
  color: #fff;
  border: none;
  padding: 6px 12px;
  border-radius: 20px;
  cursor: pointer;
  font-size: 0.85rem;
  transition: all 0.3s;
}

.see-all-btn:hover {
  background: rgba(255, 255, 255, 0.2);
}

.random-products {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: 15px;
}

.random-product-card {
  background: rgba(255, 255, 255, 0.05);
  border-radius: 12px;
  overflow: hidden;
  transition: all 0.3s ease;
  position: relative;
  border: 1px solid rgba(255, 255, 255, 0.08);
  display: flex;
  flex-direction: column;
}

.random-product-card:hover {
  transform: translateY(-5px);
  box-shadow: 0 8px 20px rgba(0, 0, 0, 0.2);
  background: rgba(255, 255, 255, 0.08);
}

.product-image-container {
  flex: 1;
  overflow: hidden;
  position: relative;
}

.product-image-container img {
  width: 100%;
  height: 100%;
  object-fit: cover;
  transition: transform 0.4s;
}

.random-product-card:hover .product-image-container img {
  transform: scale(1.05);
}

.product-info {
  padding: 12px;
  background: rgba(0, 0, 0, 0.25);
}

.product-name {
  color: #fff;
  font-size: 0.95rem;
  margin: 0 0 6px;
  font-weight: 500;
  text-align: center;
  text-shadow: 0 1px 2px rgba(0,0,0,0.6);
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

.product-price {
  color: #ffdd00;
  font-size: 1.05rem;
  font-weight: 600;
  margin: 0;
  text-align: center;
}

/* تصميم متجاوب للهواتف */
@media (max-width: 768px) {
  .random-products {
    grid-template-columns: repeat(3, 1fr);
    gap: 10px;
  }
  
  .random-product-card {
    aspect-ratio: 1/1; /* يجعل البطاقة مربعة */
  }
  
  .product-image-container {
    height: auto;
  }
  
  .product-name {
    font-size: 0.8rem;
    padding: 0 5px;
  }
  
  .product-price {
    font-size: 0.9rem;
  }
  
  .product-info {
    padding: 8px 5px;
  }
  
  .category-header h3 {
    font-size: 1.1rem;
  }
  
  .see-all-btn {
    font-size: 0.75rem;
    padding: 4px 8px;
  }
}

@media (max-width: 480px) {
  .random-products {
    display: flex;
    overflow-x: auto;
    padding-bottom: 10px;
    scroll-snap-type: x mandatory;
    gap: 8px;
  }
  
  .random-product-card {
    min-width: 110px;
    max-width: 110px;
    scroll-snap-align: start;
  }
  
  .product-name {
    font-size: 0.7rem;
  }
  
  .product-price {
    font-size: 0.8rem;
  }
  
  .category-header {
    padding: 0 10px 5px;
  }
}

/* إزالة شريط التمرير في المتصفحات الحديثة */
.random-products::-webkit-scrollbar {
  display: none;
}

.random-products {
  -ms-overflow-style: none;
  scrollbar-width: none;
}
















/* ====== تعديل ألوان النص في واجهة المنتجات المنبثقة ====== */
#productsModal .product-name,
#productsModal .product-description,
#productsModal .full-description,
#productsModal .product-price {
  color: #333 !important; /* اللون الأسود القاتم */
}

#productsModal .product-item {
  background-color: #fff !important; /* خلفية بيضاء */
  box-shadow: 0 4px 12px rgba(0,0,0,0.1) !important; /* ظل ناعم */
}

#productsModal .product-price {
  color: #8b0000 !important; /* اللون الأحمر الداكن */
  font-weight: 700;
}

#productsModal .product-item:hover {
  background-color: #f8f8f8 !important;
}

#productsModal .product-description {
  color: #555 !important;
}

#productsModal .full-description {
  color: #444 !important;
  background-color: #f9f9f9 !important;
}

#productsModal .show-more-btn {
  color: #0000cd !important; /* اللون الأزرق الأصلي للمتجر */
}

#productsModal .show-more-btn:hover {
  color: #800080 !important; /* اللون البنفسجي الأصلي للمتجر */
}







//here is the search 
.search-container {
    display: flex;
    align-items: center;
    justify-content: center;
    backdrop-filter: blur(10px);
    background: rgba(255, 255, 255, 0.1);
    border: 1px solid rgba(255, 255, 255, 0.3);
    border-radius: 15px;
    padding: 5px 10px;
    width: 90%;
    max-width: 400px;
    margin: 20px auto;
    box-shadow: 0 4px 30px rgba(0, 0, 0, 0.1);
  }

  .glass-input {
    flex: 1;
    background: transparent;
    border: none;
    outline: none;
    color: white;
    font-size: 16px;
    padding: 10px;
  }

  .glass-input::placeholder {
    color: rgba(255, 255, 255, 0.6);
  }

  .search-btn {
    background: rgba(255, 255, 255, 0.2);
    border: none;
    border-radius: 10px;
    padding: 10px;
    cursor: pointer;
    color: white;
    transition: background 0.3s ease;
  }

  .search-btn:hover {
    background: rgba(255, 255, 255, 0.4);
  }

  .search-btn i {
    font-size: 16px;
  }





// here is the pop css
/* الخلفية الشفافة مع طمس */
.glassSearchPopup_overlay {
  display: none !important; /* مخفية بشكل افتراضي */
  position: fixed;
  z-index: 9999;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: rgba(0, 0, 0, 0.4);
  backdrop-filter: blur(5px);
}

/* الصندوق الزجاجي للنافذة */
.glassSearchPopup_modal {
  background: rgba(255, 255, 255, 0.12);
  margin: 10% auto;
  padding: 30px 25px;
  border-radius: 20px;
  width: 90%;
  max-width: 400px;
  color: #fff;
  backdrop-filter: blur(15px);
  border: 1px solid rgba(255, 255, 255, 0.3);
  box-shadow: 0 0 15px rgba(255, 255, 255, 0.1);
  text-align: center;
  font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
}

/* زر الإغلاق (X) */
.glassSearchPopup_close {
  color: white;
  float: right;
  font-size: 26px;
  font-weight: bold;
  cursor: pointer;
  user-select: none;
  transition: color 0.3s ease;
}

.glassSearchPopup_close:hover {
  color: #ff4d4d;
}

/* عنوان النافذة */
.glassSearchPopup_modal h2 {
  margin-top: 0;
  margin-bottom: 15px;
  font-weight: 700;
  font-size: 24px;
}

/* نص المحتوى */
.glassSearchPopup_modal p {
  font-size: 16px;
  line-height: 1.5;
  color: #ddd;
}








/* واجهة النافذة المنبثقة لنتائج البحث */
#glassSearchPopup_overlay {
  position: fixed;
  top: 0; left: 0; right: 0; bottom: 0;
  background: rgba(0, 0, 0, 0.6);
  display: none; /* تظهر فقط عند البحث */
  justify-content: center;
  align-items: center;
  z-index: 9999;
  overflow-y: auto;
  padding: 30px 20px;
  box-sizing: border-box;
  font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
}

/* المحتوى الداخلي */
.glassSearchPopup_modal {
  background: #fefefe;
  border-radius: 12px;
  width: 90%;
  max-width: 900px;
  max-height: 80vh;
  overflow-y: auto;
  padding: 25px 30px 40px 30px;
  box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15);
  position: relative;
  color: #222;
}

/* عنوان النتائج */
.glassSearchPopup_modal h2 {
  margin-top: 0;
  margin-bottom: 25px;
  font-size: 1.8rem;
  font-weight: 700;
  color: #111;
  text-align: center;
  letter-spacing: 0.05em;
  user-select: none;
}

/* زر الإغلاق */
.glassSearchPopup_close {
  position: absolute;
  top: 15px;
  right: 18px;
  font-size: 28px;
  font-weight: bold;
  color: #555;
  cursor: pointer;
  transition: color 0.25s ease;
  user-select: none;
}

.glassSearchPopup_close:hover {
  color: #d33e3e;
  transform: scale(1.2);
}

/* حاوية نتائج البحث */
.search-results-container {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(220px, 1fr));
  gap: 22px 20px;
  max-height: 60vh;
  overflow-y: auto;
  padding-right: 5px; /* لتجنب اختفاء scroll */
}

/* بطاقة المنتج */
.product-card {
  background: linear-gradient(135deg, #ffffff, #f5f7fa);
  border: 2px solid #ddd;
  border-radius: 14px;
  box-shadow: 0 3px 8px rgba(0, 0, 0, 0.06);
  padding: 15px 18px 22px 18px;
  transition: box-shadow 0.3s ease, border-color 0.3s ease;
  display: flex;
  flex-direction: column;
  align-items: center;
  text-align: center;
}

.product-card:hover {
  box-shadow: 0 8px 25px rgba(0, 123, 255, 0.25);
  border-color: #007bff;
}



/* اسم المنتج */
.product-card h3 {
  font-size: 1.15rem;
  font-weight: 700;
  margin: 0 0 8px 0;
  color: #004085;
}

/* وصف المنتج */
.product-card p {
  font-size: 0.9rem;
  line-height: 1.3;
  color: #343a40;
  margin: 6px 0;
  user-select: text;
  min-height: 48px; /* ثبات ارتفاع الوصف */
  overflow: hidden;
  text-overflow: ellipsis;
}

/* السعر */
.product-card .price {
  font-weight: 800;
  font-size: 1.1rem;
  color: #28a745;
  margin-top: 8px;
}

/* القسم */
.product-card .category {
  font-size: 0.85rem;
  color: #6c757d;
  margin-top: 4px;
  font-style: italic;
}

/* Scrollbar مخصص (اختياري) */
.search-results-container::-webkit-scrollbar {
  width: 8px;
}

.search-results-container::-webkit-scrollbar-thumb {
  background-color: rgba(0, 123, 255, 0.3);
  border-radius: 4px;
}

.search-results-container::-webkit-scrollbar-track {
  background-color: transparent;
}

 





@media (max-width: 600px) {
  /* 1. مربع البحث */
  .glass-input {
    width: 90% !important;
    padding: 12px !important;
    font-size: 16px !important;
    margin: 12px auto !important;
    display: block !important;
    border-radius: 12px !important;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1) !important;
  }

  /* 2. غطاء النافذة */
  #glassSearchPopup_overlay {
    align-items: flex-start !important;
    padding-top: 20px !important;
    overflow-y: auto !important;
  }

  /* 3. صندوق النافذة */
  .glassSearchPopup_modal {
    width: 95% !important;
    max-width: 400px !important;
    max-height: 85vh !important;
    padding: 16px !important;
    border-radius: 16px !important;
    box-shadow: 0 8px 25px rgba(0, 0, 0, 0.2) !important;
    transform: none !important; /* يلغي أي تحريك سابق */
    opacity: 1 !important;
    margin: 0 auto !important;
  }

  /* 4. حاوية البطاقات */
  .search-results-container {
    display: flex !important;
    flex-direction: column !important;
    gap: 14px !important;
    max-height: 65vh !important;
    overflow-y: auto !important;
    padding-right: 6px !important;
  }

  /* 5. بطاقة المنتج */
  .product-card {
    width: 100% !important;
    padding: 14px !important;
    border-radius: 12px !important;
    background-color: #fdfdfd !important;
    box-shadow: 0 2px 10px rgba(0, 0, 0, 0.08) !important;
    display: flex !important;
    flex-direction: column !important;
    align-items: flex-start !important;
  }
  
  .product-card h3 {
    font-size: 18px !important;
    color: #1a1a1a !important;
    margin-bottom: 6px !important;
  }
  .product-card p {
    font-size: 14px !important;
    color: #333 !important;
    margin: 4px 0 !important;
  }
  .product-card .price {
    font-size: 16px !important;
    color: #c0392b !important;
    font-weight: bold !important;
    margin-top: 8px !important;
  }
  .product-card .category {
    font-size: 13px !important;
    color: #555 !important;
    font-style: italic !important;
  }

  /* 6. زر الإغلاق */
  .glassSearchPopup_close {
    position: fixed !important;
    top: 12px !important;
    right: 12px !important;
    width: 36px !important;
    height: 36px !important;
    background: #e74c3c !important;
    color: #fff !important;
    font-size: 24px !important;
    border-radius: 50% !important;
    display: flex !important;
    align-items: center !important;
    justify-content: center !important;
    box-shadow: 0 2px 6px rgba(0, 0, 0, 0.2) !important;
    cursor: pointer !important;
    transition: transform 0.2s ease !important;
    z-index: 1001 !important;
  }
  .glassSearchPopup_close:hover {
    transform: scale(1.2) !important;
  }
}
@media (max-width: 600px) {
  /* 1. حاوية النتائج: عمود واحد، ارتفاع تلقائي */
  .search-results-container {
    display: flex !important;
    flex-direction: column !important;
    gap: 12px !important;
    max-height: none !important;      /* إزالة الحد الثابت */
    overflow-y: visible !important;   /* جعل المحتوى مرئي */
    padding: 0 !important;
  }

  /* 2. بطاقة المنتج: عرض كامل، صندوق قابل للتمدد */
  .product-card {
    display: block !important;
    width: 100% !important;
    padding: 16px !important;
    border-radius: 12px !important;
    background-color: #ffffff !important;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1) !important;
    box-sizing: border-box !important;
  }

 

  /* 4. نصوص البطاقة: مسافات وأسطر كافية */
  .product-card h3 {
    font-size: 18px !important;
    margin: 8px 0 !important;
    color: #1a1a1a !important;
  }
  .product-card p,
  .product-card .price,
  .product-card .category {
    font-size: 15px !important;
    margin: 6px 0 !important;
    color: inherit !important;
  }

  /* 5. تعديل حجم صندوق النافذة */
  .glassSearchPopup_modal {
    width: 95% !important;
    max-width: 360px !important;
    padding: 16px !important;
    border-radius: 16px !important;
  }
}







/* زر الهامبرغر */
.sidebar-toggle {
  position: fixed;
  top: 60px;
  right: 20px;
  z-index: 11001;
  background: rgba(255,255,255,0.7);
  border: none;
  border-radius: 10px;
  padding: 10px 12px;
  font-size: 20px;
  cursor: pointer;
  backdrop-filter: blur(6px);
  box-shadow: 0 4px 10px rgba(0,0,0,0.2);
}

/* القائمة الجانبية */
#sidebarMenu {
  position: fixed;
  top: 0;
  right: 0;
  height: 100vh;
  width: 60px;
  background: rgba(255, 255, 255, 0.2);
  backdrop-filter: blur(12px);
  overflow-y: auto;
  transition: width 0.3s ease;
  z-index: 11000;
  display: flex;
  flex-direction: column;
  align-items: center;
  padding: 10px 0;
}

/* عند الفتح */
body.sidebar-open #sidebarMenu {
  width: 280px;
}

/* عنصر */
.sidebar-item {
  width: 100%;
  display: flex;
  align-items: center;
  padding: 10px;
  cursor: pointer;
  transition: background 0.2s;
}
.sidebar-item:hover {
  background: rgba(255,255,255,0.15);
}
.category-icon {
  width: 30px;
  height: 30px;
  border-radius: 8px;
  object-fit: cover;
  margin-left: 10px;
}
.category-name {
  color: white;
  font-weight: bold;
  font-size: 0.9rem;
  white-space: nowrap;
  opacity: 0;
  transition: opacity 0.3s ease;
}
body.sidebar-open .category-name {
  opacity: 1;
}

/* الوضع الليلي */
html.dark-mode #sidebarMenu {
  background: rgba(0,0,0,0.4);
}
html.dark-mode .category-name {
  color: #fff;
}

/* الهاتف: تغطي الشاشة عند الفتح */
@media (max-width: 768px) {
  #sidebarMenu {
    width: 0;
  }
  body.sidebar-open #sidebarMenu {
    width: 100%;
  }
}

/* 1. إعدادات الزر في الحالة الافتراضية (القائمة مغلقة) */
#sidebarToggleBtn {
  position: fixed;
  top: 4.5rem;
  right: 3rem;
  transition: right 0.3s ease, left 0.3s ease;
}

/* 2. عندما تكون القائمة مفتوحة (body يحمل الكلاس sidebar-open) */
body.sidebar-open #sidebarToggleBtn {
  /* نقل الزر من اليمين إلى اليسار بمقدار عرض الـsidebar */
  left: 20px;   /* استبدل 250px بعرض قائمتك الجانبية */
  right: auto;   /* يلغي ضبط الـright */
}





.product-card img {
  display: block;         /* لإزالة المسافات الفارغة */
  width: auto;            /* العرض الطبيعي للصورة */
  height: auto;           /* الارتفاع الطبيعي للصورة */
  max-width: 100%;        /* لا تتجاوز عرض البطاقة */
  max-height: none;       /* لا تقيّد الارتفاع */
  object-fit: none;       /* تظهر الصورة كاملة دون قصّ */
  border-radius: 10px;    /* إن كنت تريد الاحتفاظ بالزويا الدائرية */
  margin-bottom: 14px;    /* قم بضبط الهوامش كما يناسب التصميم */
  overflow: visible;      /* تأكد من عدم قص أي جزء */
  user-select: none;      /* يمنع تحديد الصورة بنقرة */
}
/* === Override كامل لصور المنتجات === */
#sectionsSection .product-card img {
  display: block !important;
  width: auto !important;         /* عرض الصورة الطبيعي */
  height: auto !important;        /* ارتفاع الصورة الطبيعي */
  max-width: 100% !important;     /* لا تتجاوز عرض البطاقة */
  max-height: none !important;    /* لا تقيّد الارتفاع */
  object-fit: none !important;    /* تظهر الصورة كاملة دون قصّ */
  overflow: visible !important;   /* لا تقصّ أي جزء */
  margin-bottom: 14px !important; /* أو غيرها حسب التصميم */
  border-radius: 10px !important; /* إن احتجت تحتفظ بالزويا الدائرية */
  user-select: none !important;
}




.product-card img {
    width: 100% !important;
    height: auto !important;
    max-height: none !important;
    margin-bottom: 12px !important;
  }
.product-card img {
    max-height: 120px !important;
    margin-bottom: 10px !important;
  }
.product-card img {
  max-width: 100%;
  height: 140px;
  object-fit: contain;
  border-radius: 10px;
  margin-bottom: 14px;
  user-select: none;
}
.product-card img {
      width: 100%;
      height: auto;
      max-height: 150px;
      object-fit: contain;
    }

  </style>
  
  <!-- Firebase SDK -->
  <script src="https://www.gstatic.com/firebasejs/9.0.0/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.0.0/firebase-database-compat.js"></script>
  <script>
    // تكوين Firebase (نفس الإعدادات القديمة)
    const firebaseConfig = {
      apiKey: "AIzaSyAi3_y7ugKB0cgzMV1-IVvbE2BwG_9RKSs",
      authDomain: "team-analysis-3c196.firebaseapp.com",
      databaseURL: "https://team-analysis-3c196-default-rtdb.firebaseio.com",
      projectId: "team-analysis-3c196",
      storageBucket: "team-analysis-3c196.firebasestorage.app",
      messagingSenderId: "38968485922",
      appId: "1:38968485922:web:667832a4aa77599ba8a6fb",
      measurementId: "G-853WkH2JK7"
    };

    // تهيئة Firebase
    const app = firebase.initializeApp(firebaseConfig);
    const database = firebase.database();


// جلب روابط الصور من adBanners
firebase.database().ref('adBanners').once('value').then(snapshot => {
  const banners = [];
  snapshot.forEach(child => {
    const url = child.val().imageUrl;
    if (url) banners.push(url);
  });
  if (banners.length) initBannerCarousel(banners);
});

function initBannerCarousel(urls) {
  const slidesEl = document.querySelector('#bannerCarousel .slides');
  const dotsEl   = document.querySelector('#bannerCarousel .dots');
  let current = 0;

  // إنشاء الصور والنقاط
  urls.forEach((url, i) => {
    const img = document.createElement('img');
    img.src = url;
    if (i === 0) img.classList.add('active');
    slidesEl.appendChild(img);

    const dot = document.createElement('div');
    dot.classList.add('dot');
    if (i === 0) dot.classList.add('active');
    dot.addEventListener('click', () => goToSlide(i));
    dotsEl.appendChild(dot);
  });

  // التنقل التلقائي كل 5 ثواني
  setInterval(() => {
    goToSlide((current + 1) % urls.length);
  }, 5000);

  function goToSlide(idx) {
    const images = slidesEl.querySelectorAll('img');
    const dots   = dotsEl.querySelectorAll('.dot');
    images[current].classList.remove('active');
    dots[current].classList.remove('active');
    images[idx].classList.add('active');
    dots[idx].classList.add('active');
    current = idx;
  }
}

  </script>
</head>
<body>





<!-- أضف هذا بعد وسم <body> -->
<!-- Video Background with Loading Placeholder -->
<div id="videoContainer">
  <img id="videoPlaceholder" src="https://i.ibb.co/CKd6Q0rL/4.png" alt="Loading background">
</div>
<div id="overlay"></div>



<!-- زر الهامبرغر العائم -->
<button id="sidebarToggleBtn" class="sidebar-toggle">
  <i class="fas fa-bars"></i>
</button>

<!-- القائمة الجانبية -->
<div id="sidebarMenu"></div>



<script>
  // تحقق من وضع الصيانة قبل تحميل أي محتوى
  database.ref('siteMaintenance/maintenance').once('value').then(snapshot => {
    if (snapshot.val()) {
      // امسح كل محتوى الصفحة
      document.body.innerHTML = '';
      document.documentElement.style.overflow = 'hidden';
      document.body.style.margin = '0';
      document.body.style.backgroundColor = '#ffffff';
      // أضف الصورة في وسط الشاشة
      const img = document.createElement('img');
      img.src = 'https://i.ibb.co/ZRxK9958/image.png';
      Object.assign(img.style, {
        position: 'fixed',
        top: '50%',
        left: '50%',
        transform: 'translate(-50%, -50%)',
        maxWidth: '80%',
        maxHeight: '80%'
      });
      document.body.appendChild(img);
    }
  });
</script>












  <div id="animatedBackground"></div>

  
  <!-- Loader Overlay for initial page load -->
  <div id="loader">
    <div class="spinner"></div>
  </div>
  
  <!-- Header (Fixed elements directly on background) -->
  <section id="headerSection">
    <div class="gpd-container">
      <div id="headerContent" class="gdp-row">
        <!-- Header Left: Social Media Buttons -->
        <div class="cell header-left">
          <div class="social-icons">
            <a href="https://www.instagram.com/mulberry.ps/" target="_blank" class="social-btn instagram">
              <img src="https://static.vecteezy.com/system/resources/thumbnails/042/148/632/small_2x/instagram-logo-instagram-social-media-icon-free-png.png" alt="Instagram"/>
            </a>
            <a href="https://www.facebook.com/profile.php?id=61571473259682&locale=ar_AR" target="_blank" class="social-btn facebook">
              <img src="https://static.vecteezy.com/system/resources/previews/050/616/503/non_2x/facebook-logo-in-white-circle-free-png.png" alt="Facebook"/>
            </a>
            <a href="https://www.tiktok.com/@mulberry.ps" target="_blank" class="social-btn tiktok">
              <img src="https://static.vecteezy.com/system/resources/previews/042/148/613/non_2x/tiktok-logo-tiktok-social-media-icon-free-png.png" alt="TikTok"/>
            </a>
          </div>
        </div>
        <!-- Header Center: Order Products Button (now "اطلب استشارة") and Lucky Wheel Button -->
        <div class="cell header-center" style="display: flex; justify-content: center; align-items: center;">
          <button id="orderProductsBtn" onclick="window.open('https://ig.me/m/mulberry.ps','_blank')">اطلب استشارة</button>
          <button id="luckyWheelBtn" onclick="openLuckyWheelModal()" style="background: transparent; border: none; width: 40px; height: 40px; margin-left: 10px; overflow: visible;">
            <img src="https://png.pngtree.com/png-vector/20221210/ourmid/pngtree-lucky-wheel-png-image_6518840.png" alt="Lucky Wheel Icon" style="width: 100%; height: 100%; object-fit: contain; transform-origin: center;"/>
          </button>
        </div>
        <!-- Header Right: Translation and Join Team Buttons -->
        <div class="cell header-right" style="display: flex; justify-content: flex-end;">
          
          <button id="joinTeamBtn" onclick="window.open('https://forms.gle/5tXHFwsgF6kycYG7A','_blank')">انضم إلى Mulberry Team</button>
        </div>
      </div>
    </div>
  </section>






















  
 
  
  <!-- Main Content -->
  <main>
    <!-- Landing Section -->
    <section id="landingSection" class="gpd-section" data-anim-type="fadeIn">
      <div id="landing" style="position: relative; z-index: 2; padding: 60px; text-align: center;">



<div class="search-container">
  <input type="text" placeholder="ابحث عن منتج..." class="glass-input" />
  <button class="search-btn">
    <i class="fas fa-search"></i>
  </button>
</div>


<div id="glassSearchPopup_overlay" class="glassSearchPopup_overlay">
  <div class="glassSearchPopup_modal">
    <span id="glassSearchPopup_close" class="glassSearchPopup_close">&times;</span>
  </div>
</div>


  
<!-- بداية Banner Carousel -->
<div id="bannerCarousel" class="banner-carousel">
<div class="slides-container" style="width:100%;height:100%;position:relative;">
<div class="slides"></div>
</div>
<div class="dots"></div>
</div>
<!-- نهاية Banner Carousel -->









<div class="carousel-container">
  <div class="carousel-wrapper">
    <div class="carousel-arrow left-arrow" onclick="moveCarousel(-1)">❮</div>
    
    <div class="carousel" id="categoriesCarousel">
      <!-- سيتم ملؤه ديناميكياً -->
    </div>
    
    <div class="carousel-arrow right-arrow" onclick="moveCarousel(1)">❯</div>
  </div>
</div>






        
  <div class="product-buttons-container">




  

  
  





</div>






<!-- قسم المنتجات العشوائية -->
<!-- استبدال القسم الحالي بهذا الكود -->
<section id="randomProducts" class="gpd-section" style="background: transparent; box-shadow: none; padding: 20px 0;">
  <div class="gpd-container">
    <h2 style="text-align: center; margin-bottom: 30px; color: #fff; text-shadow: 0 2px 10px rgba(0,0,0,0.7); font-size: 1.8rem;">
      اكتشف منتجاتنا المميزة
    </h2>
    
    <div id="randomProductsContainer" class="random-products-container">
      <!-- سيتم ملؤها ديناميكياً بالمنتجات العشوائية -->
    </div>
  </div>
</section>






 

        <div class="description" id="storeDescription">
          <p>
            مرحبًا بكم في Mulberry Store – المتجر الرائد الذي يقدم أفضل منتجات العناية بالبشرة، العناية الشخصية، باقات الهدايا والعطور الفاخرة.
            مهمتنا هي تقديم تجربة تسوق لا مثيل لها تجمع بين الجودة والراحة والابتكار في كل تفصيل.
          </p>
          <p>
            يعمل نظامنا الإلكتروني على تسهيل عملية الشراء: تصفح الأقسام المتنوعة، أضف منتجاتك المفضلة إلى سلة التسوق، وأكمل عملية الدفع عبر بوابات آمنة وسريعة.
            نحن ملتزمون بتقديم خدمة توصيل سريعة ودعم عملاء احترافي لضمان رضاكم التام.
          </p>
          <p>
            يهدف Mulberry Store إلى بناء علاقات دائمة مع عملائه من خلال توفير بيئة تسوق متميزة تجمع بين الأناقة والتكنولوجيا.
            تعرف على قصتنا وفريق العمل المبدع الذي يقف خلف كل منتج ونصيحة نقدمها لك.
          </p>
        </div>
      </div>
    </section>

  </main>



<!-- أضف هذا بعد </main> -->
<!-- Products Grid Modal -->
<div id="productsModal" class="modal">
  <div class="modal-content" style="max-width: 95%; width: 1200px;">
    <div class="modal-header">
      <button class="back-btn" onclick="closeProductsModal()">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24">
          <path fill="currentColor" d="M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"/>
        </svg>
        العودة
      </button>
      <h2 id="modalTitle">منتجات الفئة</h2>
    </div>
    <div id="productsGrid" class="products-grid"></div>
  </div>
</div>

  <!-- Modal for Product Sections -->
  <div id="modal" class="modal">
    <div class="modal-content">
      <div id="modalLoader">
        <div class="spinner"></div>
      </div>
      <span class="close" onclick="closeModal()">&times;</span>
      <iframe id="sectionFrame" src=""></iframe>
      <br/>
      <button class="close-btn" onclick="closeModal()">Close</button>
    </div>
  </div>
  
  <!-- Modal for Product Details -->
  <div id="productModal" class="modal">
    <div class="modal-content" style="background: #fff; padding: 20px; border-radius: 15px; max-width: 600px; margin: 100px auto; position: relative;">
      <span class="close" id="productModalClose" onclick="closeProductModal()">&times;</span>
      <img id="productModalImage" src="" alt="Product Image" style="width: 100%; max-height:300px; object-fit: contain; margin-bottom: 20px;" />
      <h3 id="productModalName"></h3>
      <p id="productModalPrice"></p>
      <p id="productModalDescription"></p>
      <button id="productModalCloseBtn" class="close-btn" onclick="closeProductModal()">Close</button>
    </div>
  </div>
  
  <!-- Modal for Lucky Wheel -->
  <!-- سيتم إضافته ديناميكيًا عبر دالة openLuckyWheelModal() -->
  
  <!-- JavaScript Logic -->
  <script>
 let allProductsData = [];
const urlParams = new URLSearchParams(window.location.search);
const highlightedProductId = urlParams.get('product');


     // Improved Loader
window.addEventListener('load', function() {
  const loader = document.getElementById('loader');
  loader.style.opacity = '0';
  setTimeout(() => {
    loader.style.display = 'none';
    // Start video after page fully loaded
    const video = document.getElementById('backgroundVideo');
    video.play().catch(e => console.log('بدء تشغيل الفيديو بعد التحميل'));
  }, 500);
});
      
      
      
      const darkModeBtn = document.getElementById("darkModeBtn");
      const backgroundVideo = document.getElementById("backgroundVideo");

      // دوال لعجلة الحظ (Lucky Wheel Modal)
      window.openLuckyWheelModal = function() {
        var modalHtml = `
          <div id="luckyWheelModal" class="modal">
            <div class="modal-content">
              <span class="close" onclick="closeLuckyWheelModal()">&times;</span>
              <iframe src="https://mulberryteam.github.io/mulberrywheel/" frameborder="0" style="border:none; border-radius:8px;"></iframe>
              <button class="close-lucky-btn" onclick="closeLuckyWheelModal()">
                <i class="fa fa-sign-out-alt"></i> 
              </button>
            </div>
          </div>
        `;
        document.body.insertAdjacentHTML('beforeend', modalHtml);
        document.getElementById("luckyWheelModal").style.display = "flex";
      };

      window.closeLuckyWheelModal = function() {
        var modal = document.getElementById("luckyWheelModal");
        if(modal) {
          modal.parentNode.removeChild(modal);
        }
      };

// Reference to Firebase categories
const categoriesRef = database.ref('categories');

// متغيرات لتتبع الحالة
let currentIndex = 0;
let categoriesData = [];

// تحميل الفئات وعرضها
function loadCategoriesCarousel() {
  categoriesRef.once('value').then(snapshot => {
    const data = snapshot.val();
    if (!data) return;
    
    // تحويل البيانات إلى مصفوفة
    categoriesData = Object.keys(data).map(key => ({
      id: key,
      ...data[key]
    }));
    
    const carousel = document.getElementById('categoriesCarousel');
    carousel.innerHTML = '';
    
    // إضافة الأزرار إلى القائمة
    categoriesData.forEach((category, index) => {
      const btn = document.createElement('div');
      btn.className = 'category-btn';
      btn.setAttribute('data-index', index);
      
      btn.innerHTML = `
        <div class="bg-image" style="background-image: url('${category.imageUrl}')"></div>
        <div class="btn-label">${category.name}</div>
      `;
      
     btn.addEventListener('click', () => {
  openProductsModal(category.name);
});
      
      carousel.appendChild(btn);
    });
    
    // تعيين العنصر النشط الأول
    setTimeout(() => {
      setActiveCategory(0);
    }, 100);
  });
}

// تعيين الفئة النشطة
function setActiveCategory(index) {
  const carousel = document.getElementById('categoriesCarousel');
  const items = carousel.querySelectorAll('.category-btn');
  
  // تحديث الفهرس الحالي
  currentIndex = index;
  
  // تحديث الأنماط لجميع الأزرار
  items.forEach((item, i) => {
    const itemIndex = parseInt(item.getAttribute('data-index'));
    
    item.classList.remove('active', 'prev', 'next');
    
    if (itemIndex === index) {
      item.classList.add('active');
    } else if (itemIndex === (index - 1 + categoriesData.length) % categoriesData.length) {
      item.classList.add('prev');
    } else if (itemIndex === (index + 1) % categoriesData.length) {
      item.classList.add('next');
    }
  });
  
  // التمرير إلى المركز
  if (items[index]) {
    const activeItem = [...items].find(item => 
      parseInt(item.getAttribute('data-index')) === index
    );
    
    if (activeItem) {
      activeItem.scrollIntoView({
        behavior: 'smooth',
        block: 'nearest',
        inline: 'center'
      });
    }
  }
}

// تحريك السلايدر
function moveCarousel(direction) {
  let newIndex = currentIndex + direction;
  
  // التحقق من الحدود للتمرير الدائري
  if (newIndex < 0) {
    newIndex = categoriesData.length - 1;
  } else if (newIndex >= categoriesData.length) {
    newIndex = 0;
  }
  
  setActiveCategory(newIndex);
}

// التهيئة
document.addEventListener('DOMContentLoaded', () => {
database.ref('products').once('value')
  .then(snapshot => {
    allProductsData = [];
    snapshot.forEach(productSnap => {
      const product = productSnap.val();
      product.id = productSnap.key;
      allProductsData.push(product);
    });
  })
  .catch(error => {
    console.error('خطأ في جلب كل المنتجات:', error);
  });


const searchInput = document.querySelector('.glass-input');
const searchBtn = document.querySelector('.search-btn');
const popupOverlay = document.getElementById('glassSearchPopup_overlay');

function performSearch() {
  const query = searchInput.value;
  if (!query.trim()) return;
  const results = searchProducts(query);
  renderSearchResults(results);
  popupOverlay.style.display = 'block';
}

searchBtn.addEventListener('click', performSearch);

searchInput.addEventListener('keydown', e => {
  if (e.key === 'Enter') {
    e.preventDefault();
    performSearch();
  }
});



  loadCategoriesCarousel();
  
  // التمرير باللمس للجوال
  const carousel = document.getElementById('categoriesCarousel');
  let touchStartX = 0;
  
  carousel.addEventListener('touchstart', (e) => {
    touchStartX = e.touches[0].clientX;
  });
  
  carousel.addEventListener('touchend', (e) => {
    const touchEndX = e.changedTouches[0].clientX;
    const diff = touchStartX - touchEndX;
    
    if (Math.abs(diff) > 50) {
      moveCarousel(diff > 0 ? 1 : -1);
    }
  });
  
  // التمرير بالماوس
  carousel.addEventListener('wheel', (e) => {
    e.preventDefault();
    moveCarousel(e.deltaY > 0 ? 1 : -1);
  });
  
  // تحديث تلقائي عند تغيير حجم الشاشة
  window.addEventListener('resize', () => {
    setActiveCategory(currentIndex);
  });
});

// أضف هذا في نهاية وسم <script>
function createSnowflakes() {
  const snowfall = document.querySelector('.snowfall');
  const snowCount = 50; // عدد النقاط الثلجية
  
  for(let i = 0; i < snowCount; i++) {
    const snowflake = document.createElement('div');
    snowflake.classList.add('snowflake');
    
    // إعدادات عشوائية
    const size = Math.random() * 5 + 3;
    const left = Math.random() * 100;
    const delay = Math.random() * 5;
    const duration = Math.random() * 10 + 5;
    
    snowflake.style.cssText = `
      width: ${size}px;
      height: ${size}px;
      left: ${left}%;
      animation-duration: ${duration}s;
      animation-delay: ${delay}s;
      opacity: ${Math.random() * 0.7 + 0.3};
    `;
    
    snowfall.appendChild(snowflake);
  }
}

document.addEventListener('DOMContentLoaded', createSnowflakes);

// أضف هذا في نهاية قسم الـ <script>
// إغلاق الواجهة عند النقر خارج المحتوى
window.addEventListener('click', function(event) {
  const modal = document.getElementById('productsModal');
  if (event.target === modal) {
    closeProductsModal();
  }
});

// ===== إضافة حدث DOMContentLoaded =====
document.addEventListener('DOMContentLoaded', function() {
  // الكود الذي سيعمل بعد تحميل الصفحة
  
  // ===== [الكود الجديد: معالجة رابط المنتج] =====
  const urlParams = new URLSearchParams(window.location.search);
  const productId = urlParams.get('product');

  if (productId) {
    openProductDirectly(productId);
  }
  
  // ===== [تهيئة الأحداث للأزرار] =====
 document.querySelectorAll('.category-btn').forEach(btn => {
  btn.addEventListener('click', function() {
    const categoryName = this.querySelector('.btn-label').textContent;
    openProductsModal(categoryName);
  });
});
  
  // ===== [الكود الحالي للتهيئة] =====
  initVideoBackground();
  loadCategoriesCarousel();
  
  // ... (أي كود تهيئة آخر موجود لديك)
});

// ===== [الدوال الجديدة] =====
function openProductDirectly(productId) {
  const productsRef = database.ref('products');
  
  productsRef.child(productId).once('value')
    .then(snapshot => {
      if (snapshot.exists()) {
        const product = snapshot.val();
if (product) {
  // إنشاء بطاقة مؤقتة للمنتج
  const tempGrid = document.createElement('div');
  document.body.appendChild(tempGrid);
  createProductCard(product, productId);
  document.body.removeChild(tempGrid);
}
        
        // 1. فتح واجهة المنتجات
        openProductsModal(product.category);
        
        // 2. بعد تحميل المنتجات، قم بتمييز المنتج المطلوب
        setTimeout(() => {
          const productElement = document.querySelector(`[data-product-id="${productId}"]`);
          if (productElement) {
            // التمرير إلى المنتج
            productElement.scrollIntoView({ 
              behavior: 'smooth', 
              block: 'center' 
            });
            
            // تمييز المنتج
            productElement.classList.add('highlighted');
            
            // إزالة التمييز بعد 3 ثواني
            setTimeout(() => {
              productElement.classList.remove('highlighted');
            }, 3000);
          }
        }, 1000);
      } else {
        console.error('المنتج غير موجود');
        showNotification('المنتج المطلوب غير موجود', 'error');
      }
    })
    .catch(error => {
      console.error('Error loading product:', error);
      showNotification('حدث خطأ أثناء تحميل المنتج', 'error');
    });
}

// ===== [الدوال المطلوبة لنسخ الرابط وعرض الإشعار] =====

/**
 * ينسخ رابط المنتج إلى الحافظة مع إظهار إشعار.
 * @param {string} productId - المعرف الخاص بالمنتج.
 * @param {string} productName - اسم المنتج للعرض في الإشعار.
 */
function copyProductLink(productId, productName) {
  // بناء الرابط الحالي مع باراميتر المنتج
  const link = `${window.location.origin}${window.location.pathname}?product=${encodeURIComponent(productId)}`;
  navigator.clipboard.writeText(link)
    .then(() => {
      showNotification(`تم نسخ رابط "${productName}" إلى الحافظة`);
    })
    .catch(() => {
      showNotification('فشل في نسخ الرابط', 'error');
    });
}

/**
 * يعرض رسالة إشعار في أعلى الشاشة، تُختفي بعد 3 ثواني.
 * @param {string} message - نص الرسالة.
 * @param {'success'|'error'} [type='success'] - نوع الإشعار (يؤثر على اللون).
 */
function showNotification(message, type = 'success') {
  const notification = document.createElement('div');
  notification.className = `notification${type === 'error' ? ' error' : ''}`;
  notification.textContent = message;
  document.body.appendChild(notification);
  
  // بعد 3 ثواني يبدأ التلاشي
  setTimeout(() => {
    notification.style.opacity = '0';
    // ثم يُزال من الـ DOM
    setTimeout(() => {
      if (notification.parentNode) {
        notification.parentNode.removeChild(notification);
      }
    }, 300);
  }, 3000);
}


// ... (بقية الدوال الجديدة التي سبق ذكرها)



// ----------------------------

  // متغير لتخزين الفئة الحالية
let currentCategory = '';

// فتح واجهة المنتجات
function openProductsModal(categoryName) {
  const modal = document.getElementById('productsModal');
  const modalTitle = document.getElementById('modalTitle');
  
  currentCategory = categoryName;
  modalTitle.textContent = `منتجات ${categoryName}`;
  modal.style.display = 'block';
  
  // جلب وعرض المنتجات
  loadProductsByCategory(categoryName);
}

// إغلاق واجهة المنتجات
function closeProductsModal() {
  document.getElementById('productsModal').style.display = 'none';
  document.getElementById('productsGrid').innerHTML = '';
}

// جلب المنتجات حسب الفئة
function loadProductsByCategory(categoryName) {
if (!categoryName) {
  productsGrid.innerHTML = '<div class="error">لم يتم تحديد فئة</div>';
  return;
}
  const productsGrid = document.getElementById('productsGrid');
  productsGrid.innerHTML = '<div class="loading">جارٍ تحميل المنتجات...</div>';
  
  const productsRef = database.ref('products');
  productsRef.orderByChild('category').equalTo(categoryName).once('value')
    .then(snapshot => {
      productsGrid.innerHTML = '';
      
      if (!snapshot.exists()) {
        productsGrid.innerHTML = '<div class="no-products">لا توجد منتجات في هذه الفئة</div>';
        return;
      }
      
     const products = [];
snapshot.forEach(childSnapshot => {
  const data = childSnapshot.val();
  data.id = childSnapshot.key;        // حفظ المفتاح
  products.push(data);
});

products
  .sort(() => Math.random() - 0.5)
  .forEach(product => {
    createProductCard(product, product.id);  // هنا تستدعي البطاقة بالمعرّف الصحيح
  });

    })
    .catch(error => {
      console.error('Error loading products:', error);
      productsGrid.innerHTML = '<div class="error">حدث خطأ أثناء تحميل المنتجات</div>';
    });
}

// إنشاء بطاقة منتج
function createProductCard(product, productId) {
  const productsGrid = document.getElementById('productsGrid');
  
  const productCard = document.createElement('div');
  productCard.className = 'product-item';
  
  // تقصير الوصف إذا كان طويلاً
  const maxDescLength = 100;
  let shortDescription = product.description || '';
  let showMoreBtn = '';
  
  if (shortDescription.length > maxDescLength) {
    shortDescription = shortDescription.substring(0, maxDescLength) + '...';
    showMoreBtn = '<button class="show-more-btn">قراءة المزيد</button>';
  }
  
  productCard.innerHTML = `
    <img src="${product.image}" alt="${product.name}" class="product-image">
    <div class="product-details">
      <h3 class="product-name">${product.name}</h3>
      <div class="product-price">${product.price} ₪</div>
      <p class="product-description">${shortDescription}</p>
      ${showMoreBtn}
      <p class="full-description" style="display:none;">${product.description}</p>
    </div>
  `;
  
  // إضافة معرف المنتج كبيانات في العنصر
  if (productId) {
    productCard.dataset.productId = productId;
  }
  
  // إضافة زر نسخ الرابط
  const copyLinkBtn = document.createElement('button');
  copyLinkBtn.className = 'copy-link-btn';
  copyLinkBtn.innerHTML = `
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="18" height="18">
      <path fill="currentColor" d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"/>
    </svg>
    نسخ رابط المنتج
  `;
  
  // إضافة حدث النقر على زر النسخ
  copyLinkBtn.addEventListener('click', function(e) {
    e.stopPropagation();
    copyProductLink(productId || product.id, product.name);
  });
  
  productCard.querySelector('.product-details').appendChild(copyLinkBtn);
  
  // إضافة حدث قراءة المزيد (إذا كان موجوداً)
  if (showMoreBtn) {
    const showMoreBtnElement = productCard.querySelector('.show-more-btn');
    showMoreBtnElement.addEventListener('click', function() {
      const description = this.previousElementSibling;
      const fullDescription = this.nextElementSibling;
      
      description.style.display = 'none';
      fullDescription.style.display = 'block';
      this.textContent = 'إغلاق الوصف';
      this.classList.add('show-less');
      
      this.onclick = function() {
        description.style.display = 'block';
        fullDescription.style.display = 'none';
        this.textContent = 'قراءة المزيد';
        this.classList.remove('show-less');
        this.onclick = arguments.callee; 
      };
    });
  }

//هووون1
if (product.id === highlightedProductId) {
  productCard.classList.add('highlighted');
}
productsGrid.appendChild(productCard);
//لهووون1


const productImg = productCard.querySelector('img');
if (productImg) {
  productImg.style.objectFit = 'contain';
  productImg.style.width = '100%';
  productImg.style.height = '150px'; // أو عدّلها حسب حجم بطاقتك المناسب
}


  
  //productsGrid.appendChild(productCard);


}


function searchProducts(query) {
  const q = query.trim().toLowerCase();
  if (!q) return [];

  return allProductsData
    .map(prod => {
      const name = (prod.name || '').toLowerCase();
      const desc = (prod.description || '').toLowerCase();
      let score = 0;
      if (name.includes(q)) score += 3;
      if (desc.includes(q)) score += 1;
      const nameMatches = (name.match(new RegExp(q, 'g')) || []).length;
      const descMatches = (desc.match(new RegExp(q, 'g')) || []).length;
      score += nameMatches + descMatches;
      return { ...prod, score };
    })
    .filter(prod => prod.score > 0)
    .sort((a, b) => b.score - a.score);
}



function renderSearchResults(results) {
  const container = document.querySelector('.glassSearchPopup_modal');
  container.innerHTML = `
    <span id="glassSearchPopup_close" class="glassSearchPopup_close">&times;</span>
    <h2>نتائج البحث</h2>
    <div class="search-results-container">
      ${
        results.length > 0
          ? results.map(prod => `
            <div class="product-card">
              <img src="${prod.image}" alt="${prod.name}">
              <h3>${prod.name}</h3>
              <p>${prod.description ? prod.description.substring(0, 70) : ''}${prod.description && prod.description.length > 70 ? '...' : ''}</p>
              <p class="price">${prod.price} ₪</p>
              <p class="category">القسم: ${prod.category || 'غير محدد'}</p>
            </div>
          `).join('')
          : `<p>لا توجد نتائج مطابقة.</p>`
      }
    </div>
  `;

  document.getElementById('glassSearchPopup_close').addEventListener('click', () => {
    document.getElementById('glassSearchPopup_overlay').style.display = 'none';
  });
}




// ====== دالة لجلب وعرض المنتجات العشوائية ======
function loadRandomProducts() {
  const container = document.getElementById('randomProductsContainer');
  container.innerHTML = '<div class="loading">جارٍ تحميل المنتجات المميزة...</div>';
  
  // جلب التصنيفات والمنتجات
  const categoriesRef = database.ref('categories');
  const productsRef = database.ref('products');
  
  Promise.all([categoriesRef.once('value'), productsRef.once('value')])
    .then(([categoriesSnapshot, productsSnapshot]) => {
      const categories = categoriesSnapshot.val();
      const allProducts = productsSnapshot.val();
      
      if (!categories || !allProducts) {
        container.innerHTML = '<div class="error">لا توجد منتجات متاحة حالياً</div>';
        return;
      }
      
      container.innerHTML = '';
      
      // إنشاء قسم لكل تصنيف
      Object.keys(categories).forEach(categoryId => {
        const category = categories[categoryId];
        
        // تصفية المنتجات لهذا التصنيف
        const categoryProducts = [];
        Object.keys(allProducts).forEach(productId => {
          const product = allProducts[productId];
          if (product.category === category.name) {
            categoryProducts.push({ ...product, id: productId });
          }
        });
        
        // إذا كان هناك منتجات في هذا التصنيف
        if (categoryProducts.length > 0) {
          // اختيار 3 منتجات عشوائية
          const randomProducts = [];
          const shuffled = [...categoryProducts].sort(() => 0.5 - Math.random());
          randomProducts.push(...shuffled.slice(0, 3));
          
          // إنشاء عناصر HTML
          const categorySection = document.createElement('div');
          categorySection.className = 'random-category-section';
          
          categorySection.innerHTML = `
            <div class="category-header">
              <h3>${category.name}</h3>
              <button class="see-all-btn" onclick="openProductsModal('${category.name}')">عرض الكل</button>
            </div>
            <div class="random-products">
              ${randomProducts.map(product => `
                <div class="random-product-card">
                  <div class="product-image-container">
                    <img src="${product.image}" alt="${product.name}">
                  </div>
                  <div class="product-info">
                    <h4 class="product-name">${product.name}</h4>
                    <div class="product-price">${product.price} ₪</div>
                    
                  </div>
                </div>
              `).join('')}
            </div>
          `;
          
          container.appendChild(categorySection);
        }
      });
    })
    .catch(error => {
      console.error('Error loading random products:', error);
      container.innerHTML = '<div class="error">حدث خطأ أثناء تحميل المنتجات</div>';
    });
}

// استدعاء الدالة عند تحميل الصفحة
document.addEventListener('DOMContentLoaded', function() {
  // ... الكود الحالي ...
  
  // تحميل المنتجات العشوائية
  loadRandomProducts();
});

// تحديث المنتجات عند النقر على زر تحديث الصفحة (اختياري)
document.getElementById('refreshPage').addEventListener('click', function() {
  location.reload();
});







</script>






<!-- سكربت البحث والنافذة المنبثقة -->
<script>


document.addEventListener("DOMContentLoaded", function () {
  const searchInput = document.querySelector(".glass-input");
  const searchBtn = document.querySelector(".search-btn");
  const popupOverlay = document.getElementById("glassSearchPopup_overlay");
  const closeBtn = document.getElementById("glassSearchPopup_close");

  // تأكد من إخفاء النافذة فور تحميل الصفحة
  popupOverlay.style.display = "none";

  // دالة فتح النافذة
  function openSearchPopup() {
    popupOverlay.style.display = "block";
  }

  // دالة إغلاق النافذة
  function closeSearchPopup() {
    popupOverlay.style.display = "none";
  }

  // إغلاق بالضغط على زر الإغلاق
  closeBtn.addEventListener("click", closeSearchPopup);

  // إغلاق بالضغط على خلفية النافذة
  window.addEventListener("click", function (event) {
    if (event.target === popupOverlay) {
      closeSearchPopup();
    }
  });

  // فتح النافذة بالضغط على زر البحث
  searchBtn.addEventListener("click", openSearchPopup);

  // فتح النافذة بالضغط على Enter داخل مربع البحث
  searchInput.addEventListener("keydown", function (event) {
    if (event.key === "Enter") {
      event.preventDefault();
      openSearchPopup();
    }
  });
});

</script>




<script type="module">
  import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.0/firebase-app.js";
  import { getDatabase, ref, onValue } from "https://www.gstatic.com/firebasejs/10.12.0/firebase-database.js";

  const firebaseConfig = {
    // 🔴 استبدل هذه القيم بقيم مشروعك الحقيقي:
    apiKey: "AIzaSyAi3_y7ugKB0cgzMV1-IVvbE2BwG_9RKSs",
    authDomain: "team-analysis-3c196.firebaseapp.com",
    projectId: "team-analysis-3c196",
    databaseURL: "https://team-analysis-3c196-default-rtdb.firebaseio.com",
    storageBucket: "team-analysis-3c196.firebasestorage.app",
    messagingSenderId: "38968485922",
    appId: "1:38968485922:web:667832a4aa77599ba8a6fb"
  };

  const app = initializeApp(firebaseConfig);
  const db = getDatabase(app);

  const sidebar = document.getElementById("sidebarMenu");
  const categoriesRef = ref(db, 'categories');

  onValue(categoriesRef, snapshot => {
  sidebar.innerHTML = ''; // تنظيف القائمة أولًا
  snapshot.forEach(child => {
    const data = child.val();
    const item = document.createElement("div");
    item.className = "sidebar-item";
    item.innerHTML = `
      <img src="${data.imageUrl}" alt="${data.name}" class="category-icon">
      <span class="category-name">${data.name}</span>
    `;
    // نستخدم هنا نفس الفنكشن اللي يفتح واجهة القسم
    item.onclick = () => {
  openProductsModal(data.name);            // فتح القسم
  document.body.classList.remove('sidebar-open'); // إغلاق الشريط الجانبي
};

    sidebar.appendChild(item);
  });
});


  // التحكم بفتح/إغلاق القائمة
  document.addEventListener("DOMContentLoaded", function () {
    const btn = document.getElementById("sidebarToggleBtn");
    if (btn) {
      btn.addEventListener("click", function () {
        document.body.classList.toggle("sidebar-open");
      });
    }
  });
</script>





</body>
</html>
